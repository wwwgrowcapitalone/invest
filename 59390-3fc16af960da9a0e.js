"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59390],{76578:function(n,t,o){o.d(t,{Yy:function(){return O},JP:function(){return m},ff:function(){return D},Q4:function(){return I},dW:function(){return Z},$2:function(){return C},Gs:function(){return F},Qe:function(){return E},bZ:function(){return _}});var e=o(82845),r=o(9747),i=o(58033),u=o(69977),c=o(16149),s=o(20111),a=o(22150),$=o(92116),d=o(96616),l=o(60395),f=o(41324),p=o(80197),v=o(60026),h=o(76070),S=o(68166),y=o(96145),g=function(n){var t=[],o=[];return n.map(function(n){var e=n.symbolData,r=e.bseScripCode,i=e.nseScripCode,u=(0,d.f)(n,"positionInfo.exchangePosition.BSE"),c=(0,d.f)(n,"positionInfo.exchangePosition.NSE");0===c.creditQty&&0===c.debitQty||t.push(i),0===u.creditQty&&0===u.debitQty||o.push(r)}),[t,o]},b=o(48150),m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(o,i){var $=function(n){var i=n.data,c=i.cfPositions,$=i.positions,f=i.orders,v=i.cfPositionFetchFailed,h=i.misPositionFetchFailed,S=i.pendingOrderFetchFailed,g=c.map(function(n){return(0,r.Z)((0,e.Z)({},n),{positionInfo:(0,r.Z)((0,e.Z)({},n.positionInfo),{product:s.YP.NRML})})}),b=$.map(function(n){return(0,r.Z)((0,e.Z)({},n),{positionInfo:(0,r.Z)((0,e.Z)({},n.positionInfo),{product:s.YP.MIS})})}),m=g.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty!=0}),D=g.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty==0}),E=b.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty!=0}),_=b.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty==0}),Z=(0,u.Z)(E).concat((0,u.Z)(m),(0,u.Z)(_),(0,u.Z)(D));o({type:(0,l.K)(y.yt).success,payload:{fnoPositions:Z,fnoOpenOrders:f,cfPositionFetchFailed:v,misPositionFetchFailed:h,pendingOrderFetchFailed:S}});var C=[];f.length>0&&f.map(function(n){var t=n.symbolData.nseScripCode;C.push(t)});var O=(0,u.Z)(Z).concat((0,u.Z)(b));(null==O?void 0:O.length)>0&&O.map(function(n){var t=n.symbolData.nseScripCode,o=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});0===o.creditQty&&0===o.debitQty||C.push(t)}),"desktop"===a.cG.DESKTOP&&o((0,p.ZK)(C,s.pD.FO_PRICES,t)),o((0,p.J_)((0,d.l)(C,function(n){return n})))},v=function(){var n=(0,b.xT)(i())||{},e=n.fnoPositions,r=n.fnoOpenOrders,u=[];(null==r?void 0:r.length)>0&&r.map(function(n){var t=n.symbolData.nseScripCode;u.push(t)}),(null==e?void 0:e.length)>0&&e.map(function(n){var t,o,e=n.symbolData.nseScripCode,r=(null==n?void 0:null===(t=n.positionInfo)||void 0===t?void 0:null===(o=t.exchangePosition)||void 0===o?void 0:o.NSE)||{};0===r.creditQty&&0===r.debitQty||u.push(e)}),"desktop"===a.cG.DESKTOP&&o((0,p.ZK)(u,s.pD.FO_PRICES,t)),o((0,p.J_)((0,d.l)(u,function(n){return n})))};(0,f.ud)()&&(0,l.D)(o,c.m,y.yt,$,{fnoStatus:n},v)}},D=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return function(r,c){var s=function(s){(null===($=(0,h.fA)(c()))||void 0===$?void 0:$.socketSubscriptionStatus).isStocksOpenOrderStatusSubscribed||r((0,v.kR)(n,t,o,e));var $,f=s.data,p=f.holdings,b=f.positions,m=f.orders,D=f.holdingFetchFailed,E=f.misPositionFetchFailed,_=f.pendingOrderFetchFailed;r({type:(0,l.K)(y.lr).success,payload:{holdings:p,positions:b,orders:m,holdingFetchFailed:D,misPositionFetchFailed:E,pendingOrderFetchFailed:_}});var Z=[],C=[],O=[],F=[],P=[],I=[];b.map(function(n){var t,o,e,r,i=n.symbolData,u=i.bseScripCode,c=i.nseScripCode,s=(0,d.f)(n,"positionInfo.exchangePosition.BSE"),a=(0,d.f)(n,"positionInfo.exchangePosition.NSE");0===Number(null!==(t=null==s?void 0:s.creditQty)&&void 0!==t?t:0)&&0===Number(null!==(o=null==s?void 0:s.debitQty)&&void 0!==o?o:0)||F.push(u),0===Number(null!==(e=null==a?void 0:a.creditQty)&&void 0!==e?e:0)&&0===Number(null!==(r=null==a?void 0:a.debitQty)&&void 0!==r?r:0)||O.push(c)}),m.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;n.orderInfo.exchange===a.dK.NSE?P.push(e):I.push(o)}),"desktop"===a.cG.DESKTOP&&p.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;e?Z.push(e):C.push(o)});var k=(0,u.Z)(Z).concat((0,u.Z)(O),(0,u.Z)(P)),L=(0,u.Z)(C).concat((0,u.Z)(F),(0,u.Z)(I));o&&r((0,S.getStocksPriceforBatchV2ForStocksDashboard)({nseStockList:k,bseStockList:L},t,e)),p.length<100&&r((0,S.getSparkLineDataActionV2)({nseStockList:k,bseStockList:L})),m.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;n.orderInfo.exchange===a.CP.NSE?Z.push(e):C.push(o)});var N=(0,i.Z)(g(b),2),T=N[0],Q=N[1];Z=(0,u.Z)(Z).concat((0,u.Z)(T)),C=(0,u.Z)(C).concat((0,u.Z)(Q)),(0,S.subscribeTopics)(r,(0,u.Z)(Z).concat((0,u.Z)(C)))},p=function(){var n=(0,b.Y_)(c()),t=n.positions,o=n.orders,e=n.holdings,i=[],s=[],a=[],$=[],l=[],f=[];(0,d.a)(t)||t.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;e?a.push(e):$.push(o)}),(0,d.a)(o)||o.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;e?l.push(e):f.push(o)}),(0,d.a)(e)||e.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;e?i.push(e):s.push(o)});var p=(0,u.Z)(i).concat((0,u.Z)(a),(0,u.Z)(l)),v=(0,u.Z)(s).concat((0,u.Z)($),(0,u.Z)(f));r((0,S.getStocksPriceforBatchV2)({nseStockList:p,bseStockList:v})),r((0,S.getSparkLineDataActionV2)({nseStockList:i,bseStockList:s}))};(0,f.CH)()&&((0,l.D)(r,function(){return(0,$.gH)()},y.lr,s,{secondCall:t},p),n||r((0,S.setStockOnboardingStatus)()))}},E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return function(e,r){var i=[],c=[],s=function(n){var t=n.data,r=t.orders,s=t.pendingOrderFetchFailed;e({type:(0,l.K)(y._Q).success,payload:{orders:r,pendingOrderFetchFailed:s}}),r.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;n.orderInfo.exchange===a.CP.NSE?i.push(e):c.push(o)}),o&&e((0,S.getStocksPriceforBatchV2ForStocksDashboard)({nseStockList:i,bseStockList:c},o)),(0,S.subscribeTopics)(e,(0,u.Z)(i).concat((0,u.Z)(c)))},p=function(){var n=(0,b.Y_)(r()).orders,t=[],o=[];(0,d.a)(n)||n.map(function(n){var e=n.symbolData,r=e.bseScripCode,i=e.nseScripCode;n.orderInfo.exchange===a.CP.NSE?t.push(i):o.push(r)}),e((0,S.getStocksPriceforBatchV2)({orderListBse:o,orderListNse:t}))};(0,f.CH)()&&((0,l.D)(e,$.fK,y._Q,s,{secondCall:t},p),n||e((0,S.setStockOnboardingStatus)()))}},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return function(r,c){var s=function(n){var t=n.data,c=t.positions,s=t.misPositionFetchFailed;r({type:(0,l.K)(y.mJ).success,payload:{positions:c,misPositionFetchFailed:s}});var a=[],$=[],f=[],p=[];c.map(function(n){var t,o,e,r,i=n.symbolData,u=i.bseScripCode,c=i.nseScripCode,s=(0,d.f)(n,"positionInfo.exchangePosition.BSE"),a=(0,d.f)(n,"positionInfo.exchangePosition.NSE");0===Number(null!==(t=null==s?void 0:s.creditQty)&&void 0!==t?t:0)&&0===Number(null!==(o=null==s?void 0:s.debitQty)&&void 0!==o?o:0)||p.push(u),0===Number(null!==(e=null==a?void 0:a.creditQty)&&void 0!==e?e:0)&&0===Number(null!==(r=null==a?void 0:a.debitQty)&&void 0!==r?r:0)||f.push(c)});var v=(0,u.Z)(a).concat((0,u.Z)(f)),h=(0,u.Z)($).concat((0,u.Z)(p));o&&r((0,S.getStocksPriceforBatchV2ForStocksDashboard)({nseStockList:v,bseStockList:h},o,e));var b=(0,i.Z)(g(c),2),m=b[0],D=b[1];a=(0,u.Z)(m),$=(0,u.Z)(D),(0,S.subscribeTopics)(r,(0,u.Z)(a).concat((0,u.Z)($)))},a=function(){var n=(0,b.Y_)(c()).positions,t=[],o=[];(0,d.a)(n)||n.map(function(n){var e=n.symbolData,r=e.bseScripCode,i=e.nseScripCode;i?t.push(i):o.push(r)});var e=(0,u.Z)(t),i=(0,u.Z)(o);r((0,S.getStocksPriceforBatchV2)({nseStockList:e,bseStockList:i}))};(0,f.CH)()&&((0,l.D)(r,$.Ee,y.mJ,s,{secondCall:t},a),n||r((0,S.setStockOnboardingStatus)()))}},Z=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return function(o,e){var r=function(n){var t=n.data,e=t.orders,r=t.pendingOrderFetchFailed;o({type:(0,l.K)(y.Je).success,payload:{fnoOpenOrders:e,pendingOrderFetchFailed:r}});var i=[];e.length>0&&e.map(function(n){var t=n.symbolData.nseScripCode;i.push(t)}),o((0,p.ZK)((0,d.l)(i,function(n){return n})))},i=function(){var n=((0,b.xT)(e())||{}).fnoOpenOrders,r=[];(null==n?void 0:n.length)>0&&n.map(function(n){var t=n.symbolData.nseScripCode;r.push(t)}),t&&o((0,p.ZK)(r)),o((0,p.J_)((0,d.l)(r,function(n){return n})))};(0,f.ud)()&&(0,l.D)(o,$.cw,y.Je,r,{fnoStatus:n},i)}},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(i,c){var a=function(n){var c=n.data,a=c.cfPositions,$=c.positions,f=c.cfPositionFetchFailed,v=c.misPositionFetchFailed,h=a.map(function(n){return(0,r.Z)((0,e.Z)({},n),{positionInfo:(0,r.Z)((0,e.Z)({},n.positionInfo),{product:s.YP.NRML})})}),S=$.map(function(n){return(0,r.Z)((0,e.Z)({},n),{positionInfo:(0,r.Z)((0,e.Z)({},n.positionInfo),{product:s.YP.MIS})})}),g=h.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty!=0}),b=h.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty==0}),m=S.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty!=0}),D=S.filter(function(n){var t=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});return t.creditQty-t.debitQty==0}),E=(0,u.Z)(m).concat((0,u.Z)(g),(0,u.Z)(D),(0,u.Z)(b));i({type:(0,l.K)(y.OX).success,payload:{fnoPositions:E,cfPositionFetchFailed:f,misPositionFetchFailed:v}});var _=[],Z=(0,u.Z)(E).concat((0,u.Z)(S));(null==Z?void 0:Z.length)>0&&Z.map(function(n){var t=n.symbolData.nseScripCode,o=(0,d.f)(n,"positionInfo.exchangePosition.NSE",{});0===o.creditQty&&0===o.debitQty||_.push(t)}),t&&i((0,p.ZK)(_,s.pD.FO_PRICES,o)),i((0,p.J_)((0,d.l)(_,function(n){return n})))},v=function(){var n=(0,b.xT)(c())||{},e=n.fnoPositions,r=n.fnoOpenOrders,u=[];(null==r?void 0:r.length)>0&&r.map(function(n){var t=n.symbolData.nseScripCode;u.push(t)}),(null==e?void 0:e.length)>0&&e.map(function(n){var t,o,e=n.symbolData.nseScripCode,r=(null==n?void 0:null===(t=n.positionInfo)||void 0===t?void 0:null===(o=t.exchangePosition)||void 0===o?void 0:o.NSE)||{};0===r.creditQty&&0===r.debitQty||u.push(e)}),t&&i((0,p.ZK)(u,s.pD.FO_PRICES,o)),i((0,p.J_)((0,d.l)(u,function(n){return n})))};(0,f.ud)()&&(0,l.D)(i,$.Dt,y.OX,a,{fnoStatus:n},v)}},O=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(e){var r=function(r){var i=r.data.holdings;e({type:(0,l.K)(y.lr).success,payload:{holdings:i}});var c=[],s=[];i.map(function(n){var t=n.symbolData,o=t.bseScripCode,e=t.nseScripCode;e?c.push(e):s.push(o)}),t&&(e((0,S.getStocksPriceforBatchV2ForStocksDashboard)({nseStockList:c,bseStockList:s},n,o)),(0,S.subscribeTopics)(e,(0,u.Z)(c).concat((0,u.Z)(s))))};(0,f.CH)()&&(0,l.D)(e,$.op,y.lr,r,{secondCall:n})}},F=function(){return function(n){n({type:y._E,promise:P(n)})}},P=function(n){return(0,$.Zq)().then(function(t){var o=t.data.orderList,e=[],r=[];return o.map(function(n){var t,o=null!==(t=null==n?void 0:n.symbolData)&&void 0!==t?t:{},i=o.bseScripCode,u=o.nseScripCode;n.orderInfo.exchange===a.CP.BSE?r.push(i):e.push(u)}),n((0,S.getStocksPriceforBatchV2)({nseStockList:e,bseStockList:r})),t}).catch(function(n){throw Error(n)})},I=function(n){return function(t){var o=[a.kj.GTT_ORDER];n&&o.push(a.kj.GTT_OCO_ORDER),t({type:y.ub,promise:k(t,{smartOrderTypes:o})})}},k=function(n,t){return(0,c.hq)(t).then(function(t){var o,e=t.data.orderList,r=null!==(o=null==e?void 0:e.map(function(n){var t,o,e,r,i;return null!==(i=null!==(r=null==n?void 0:null===(t=n.symbolData)||void 0===t?void 0:t.contractId)&&void 0!==r?r:null==n?void 0:null===(o=n.symbolData)||void 0===o?void 0:o.nseScripCode)&&void 0!==i?i:null==n?void 0:null===(e=n.orderInfo)||void 0===e?void 0:e.symbolIsin}))&&void 0!==o?o:[];return n((0,p.ZK)(r)),t}).catch(function(n){throw Error(n)})}},48150:function(n,t,o){o.d(t,{Fx:function(){return s},TU:function(){return l},Y_:function(){return a},rV:function(){return p},rh:function(){return $},xT:function(){return d},z_:function(){return v}});var e,r=o(4979),i=o(11192),u=function(n){var t;return(null==n?void 0:null===(t=n.stock)||void 0===t?void 0:t.investments)===void 0},c=function(n){return u(n)?i.E:n.stock.investments},s=function(){return(0,r.P1)([c],function(n){return n.stock})},a=function(n){return c(n).stock},$=function(){return(0,r.P1)([c],function(n){return n.fno})},d=function(n){return c(n).fno},l=function(){return(0,r.P1)([c],function(n){var t=n.fno;return null!==(e=null==t?void 0:t.fnoOpenOrders)&&void 0!==e?e:[]})},f=function(n,t){return t.isin},p=function(){return(0,r.P1)([c,f],function(n,t){return n.holdingsByIsin[t]})},v=function(){return(0,r.P1)([c],function(n){return n.gtt})}},60026:function(n,t,o){o.d(t,{BA:function(){return U},Cl:function(){return j},GE:function(){return J},KO:function(){return G},KX:function(){return V},Lv:function(){return N},NS:function(){return W},Or:function(){return q},QC:function(){return Y},WW:function(){return L},_D:function(){return X},bj:function(){return k},i1:function(){return R},kR:function(){return nn},sj:function(){return M},wk:function(){return K},zM:function(){return w}});var e,r=o(17891),i=o(82845),u=o(69977),c=o(5901),s=o(78852),a=o(98148),$=o(16149),d=o(20111),l=o(68910),f=o(44034),p=o(92116),v=o(13978),h=o(22150),S=o(30274),y=o(9889),g=o(23194),b=o(87818),m=o(96616),D=o(60567),E=o(66241),_=o(35397),Z=o(60395),C=o(86706),O=o(76578),F=o(32782),P=o(71338),I=o(76070),k=function(){return function(n){n({type:P.m2})}},L=function(n,t,o,e){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(i){var u,c=n.guiOrderId,s=n.growwOrderId,a=n.duration,d=n.qty,l=n.orderType,f=n.smartOrderType,v=n.smartOrderId,S=(null!=o?o:{}).ltp,y=(0,g.Kd)(f,l),b=!y,m=function(){e(_.dL.SUCCESS),D.c.info({title:"Order conversion status",subText:"Conversion to market order requested",hideAfter:1}),setTimeout(function(){i(R(s,r,b))},500)},E=function(){e(_.dL.FAILURE),D.c.error({title:"Order conversion status",subText:"Conversion to market order failed",hideAfter:1})};if(r){var C=(0,g.F3)(o),O=C.lpr,I=C.upr,k=null!=o?o:{},L=k.lowTradeRange,N=k.highTradeRange;u={duration:a,orderType:h.Jm.MARKET,price:0,qty:d,ltp:S,lter:L,hter:N,lpr:O,upr:I}}else if(y){var T=n.leg1Dto,Q=T.triggerPrice;u={childOrderRequestDto:{leg1Order:{buySell:T.buySell,orderType:h.Jm.SL_M,price:0,qty:d,smartOrderExpiry:F.AA.ONE_DAY,triggerPrice:Q},leg2Order:null},orderType:h.Jm.MARKET,price:0,qty:d,smartOrderExpiry:F.AA.ONE_DAY,smartOrderType:h.kj.COVER_ORDER}}else u={duration:a,orderType:h.Jm.MARKET,price:0,qty:d},t||(u.ltp=S);var w=function(){return r?(0,$.rN)(s,u,c,""):y?(0,p.mJ)(v,u,c):(0,p.i3)(s,u,c,"")};(0,Z.D)(i,w,P.Vs,m,{},E)}},N=function(n){return function(t){t(k()),t({type:P.Hv,promise:Q(n,t)})}},T=function(n,t){return function(o){o({type:P.$,payload:n,meta:{pollingContext:t}})}},Q=(e=(0,r.Z)(function(n,t){var o,e,r,i,a,l,p,v,S,y,b,m,D,E,_,Z;return(0,c.__generator)(this,function(C){switch(C.label){case 0:o=function(n){var t,o,e,r,i,s;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,2,,3]),0===(t=y[n]).length)return[2,"continue"];return o=[],t.forEach(function(n){var t=(0,g.t4)(h.dK.NSE,n.contractId)+":"+l;o.push(t)}),e=((r={}).basketId=l,r.requestDtos=t,r.guiOrderIdDtos=o,r),[4,(0,$.YC)(e)];case 1:if(201!==(i=c.sent()).status)return[2,"break"];return b=(0,u.Z)(b).concat((0,u.Z)(i.data)),[3,3];case 2:return s=c.sent(),console.error(s),[2,"break"];case 3:return[2]}})},e=n.orderPayload,r=n.freezeQty,i=e.filter(function(n){return n.buySell===d.KW.BUY}),a=e.filter(function(n){return n.buySell===d.KW.SELL}),l=(0,s.Z)(),p=(0,f.D)(i,r),v=(0,f.D)(a,r),S=p.length+v.length,y=[p,v],b=[],m=0,C.label=1;case 1:if(!(m<2))return[3,4];return[5,(0,c.__values)(o(m))];case 2:if("break"===(D=C.sent()))return[3,4];C.label=3;case 3:return m++,[3,1];case 4:return b.length===S||(0===b.length?(i.forEach(function(n){b.push({orderStatus:h.DF.FAILED,symbolName:n.symbolName,qty:n.qty,buySell:n.buySell})}),a.forEach(function(n){b.push({orderStatus:h.DF.FAILED,symbolName:n.symbolName,qty:n.qty,buySell:n.buySell})})):a.forEach(function(n){b.push({orderStatus:h.DF.FAILED,symbolName:n.symbolName,qty:n.qty,buySell:n.buySell})})),E=b.reduce(function(n,t){var o=t.orderStatus,e=t.growwOrderId;return o===h.DF.NEW&&n.push(e),n},[]),_=function(n){return E.filter(function(t){var o,e=null==n?void 0:null===(o=n[t])||void 0===o?void 0:o.orderStatus;return!h.E.includes(e)})},t(w(E,d.vD.BASKET_ORDER,_,!0)),[2,((Z={}).ordersResponses=b,Z)]}})}),function(n,t){return e.apply(this,arguments)}),w=function(n,t,o){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.XN;return function(u,c){u(T(!0,t)),u(x(n,e));var s=setInterval(function(){var n=(0,I.D8)()(c()),i=o(n);0===i.length?(r(),u(T(!1,t)),clearInterval(s)):u(x(i,e))},i.intervalDuration);setTimeout(function(){r(),u(T(!1,t)),clearInterval(s)},i.maxTimer)}},x=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(o){o({type:P.n1,promise:t?(0,$.cs)(n):Promise.resolve([])})}},K=function(n){return function(t){t({type:P.p$,payload:n})}},R=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],e=!(arguments.length>3)||void 0===arguments[3]||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3;return function(i,u){i(A(n,t,o,e));var c=setInterval(function(){[h.DF.NEW].includes((0,I.Ly)()(u(),{orderDetails:{growwOrderId:n}}))?i(A(n,t,o,e)):clearInterval(c)},500);setTimeout(function(){clearInterval(c)},r)}},A=function(n,t,o){var e=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return function(r,u){var c=function(c){var s,$,d,f,p,v,b=(0,I.nh)()(u(),{orderDetails:{growwOrderId:n}}),m=b.orderStatus;if(m!==h.DF.EXECUTED){d=o?(0,i.Z)({},b,null!==(f=null==c?void 0:c.data)&&void 0!==f?f:{}):(0,i.Z)({},b,null!==(v=null==c?void 0:null===(p=c.data)||void 0===p?void 0:p.orderInfo)&&void 0!==v?v:{}),t?(s=y.Z.FNO,$=S.Z.OrderExecutedStatusReceived):(s=y.Z.Stocks,$=l.Z.OrderExecutedStatusReceived);var D=null==d?void 0:d.orderStatus;D===h.DF.EXECUTED&&D!==m&&(0,a.L9)(s,$,{growwOrderId:n,created_at:new Date().getTime()});var E=(0,g.lb)(d,t);(0,g.CJ)(d,E,t,e),r({type:(0,Z.K)(P.qq).success,payload:{data:d,growwOrderId:n}})}},s=function(){return t?o?(0,$.nH)(n):(0,$.gb)(n):o?(0,p.z7)(n):(0,p.E4)(n)};(0,Z.D)(r,s,P.qq,c)}},q=function(n,t){var o=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return function(e,r){e(A(n,!0,o));var i=(0,I.Ly)()(r(),{orderDetails:{growwOrderId:n}}),u=setInterval(function(){var c=(0,I.Ly)()(r(),{orderDetails:{growwOrderId:n}});i=c,[h.DF.EXECUTED,h.DF.CANCELLED,h.DF.REJECTED,h.DF.FAILED,h.DF.ACKED].includes(c)?(t(c),clearInterval(u)):e(A(n,!0,o))},500);setTimeout(function(){t(i),clearInterval(u)},5e3)}},B=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;return function(e,r){var u=function(u){var c,s,$,d,f=(0,I.nh)()(r(),{orderDetails:{growwOrderId:n}}),p=f.orderStatus;if(p!==h.DF.CANCELLED){var v=null==(c=o?(0,i.Z)({},f,null!==(s=null==u?void 0:u.data)&&void 0!==s?s:{}):(0,i.Z)({},f,null!==(d=null==u?void 0:null===($=u.data)||void 0===$?void 0:$.orderInfo)&&void 0!==d?d:{}))?void 0:c.orderStatus;v===h.DF.CANCELLED&&v!==p&&(0,a.L9)(y.Z.FNO,l.Z.OrderCancelledStatusReceived,{growwOrderId:n,created_at:new Date().getTime()});var S=(0,g.lb)(c,t);(0,g.x7)(c,S),e({type:(0,Z.K)(P.qq).success,payload:{data:c,growwOrderId:n}})}},c=function(){return t?o?(0,$.nH)(n):(0,$.gb)(n):o?(0,p.z7)(n):(0,p.E4)(n)};(0,Z.D)(e,c,P.qq,u)}},J=function(n,t){var o=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return function(e,r){e(B(n,!0,o));var i=(0,I.Ly)()(r(),{orderDetails:{growwOrderId:n}}),u=setInterval(function(){var c=(0,I.Ly)()(r(),{orderDetails:{growwOrderId:n}});i=c,[h.DF.EXECUTED,h.DF.CANCELLED,h.DF.REJECTED,h.DF.FAILED].includes(c)?(t(c),clearInterval(u)):e(B(n,!0,o))},500);setTimeout(function(){t(i),clearInterval(u)},5e3)}},U=function(n,t){return function(o){var e=function(e){var r=(0,m.f)(e,"data",null);o({type:(0,Z.K)(P.LG).success,payload:{availableToSellDto:r,isin:n,exchange:t}})};(0,Z.D)(o,function(){return(0,p.lQ)(n,t)},P.LG,e)}},V=function(){return function(n){n({type:(0,Z.K)(P.Pt).success})}},Y=function(n){return function(t){t({type:P.s1,payload:n})}},G=function(n,t){return function(o){o({type:P.CQ,promise:H(n,t),meta:{symbolIsin:n,exchange:t}})}},H=function(n,t){var o=[];return o.push((0,p.Hf)(t,n),(0,p.Ey)(t,n)),Promise.allSettled(o).then(function(n){if(!n.every(function(n){return"rejected"===n.status}))return n.map(function(n){var t;return null==n?void 0:null===(t=n.value)||void 0===t?void 0:t.data});throw Error("failed")}).catch(function(n){throw(0,a.L9)(y.Z.Stocks,S.Z.StockPqrApiFailed),Error(n.message)})},M=function(n){return function(t){t({type:P.NE,promise:(0,p.WI)(n),meta:{gttOrderId:n}})}},W=function(n){return function(t){t({type:P.NE,promise:(0,$.g0)(n),meta:{gttOrderId:n}})}},X=function(n){return function(t){t({type:P.QX,payload:n})}},j=function(n){return function(t){t({type:P.UH,payload:n})}},z=function(n,t,o,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return(0,C.P4)(function(){setTimeout(function(){n((0,O.ff)(t,o,e,r)),n((0,O.Gs)())},400)},1e3)()},nn=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return n=(0,r.Z)(function(n,r){var u,s,$,d,l,f,p,g,m;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,3,,4]),u=(0,I.EP)(r()),d={},!(l=!(null==($=void 0===(s=(null!=u?u:d).featuresBlockedForUsers)?[]:s)?void 0:$.includes(h.h6.NATS_STOCKS_ORDERS_UPDATES))))return[3,2];return[4,(0,E.is)()];case 1:g={},p=(null!==(f=c.sent())&&void 0!==f?f:g).user_account_id,n(j(!0)),v.Z.subscribeToTopic((0,b.BN)("STOCKS_OPEN_ORDER_UPDATE",p),function(r){z(n,t,o,e,i)},function(t){console.error("Something went wrong while subscribing to stock open order topic: ",t),n(j(!1)),(0,a.L9)(y.Z.Stocks,S.Z.WebNatsSubscriptionError,{topic:"StocksOrderUpdates"})}),c.label=2;case 2:return[3,4];case 3:return m=c.sent(),console.error(m),[3,4];case 4:return[2]}})}),function(t,o){return n.apply(this,arguments)}}}}]);