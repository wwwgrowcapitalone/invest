(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32782],{59854:function(e,r){"use strict";r.Z={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/gtt.ac3a2b61.svg",height:14,width:14}},32782:function(e,r,t){"use strict";t.d(r,{KW:function(){return eu},TW:function(){return eT},Fq:function(){return D},Mj:function(){return ee},sl:function(){return en},rn:function(){return eP},wp:function(){return ek},pF:function(){return em},pW:function(){return e0},Bp:function(){return e4},rc:function(){return rd},Jm:function(){return eh},fZ:function(){return eV},He:function(){return ev},fY:function(){return ep},$x:function(){return rp},AA:function(){return eg},kj:function(){return ey},lA:function(){return eW},Pr:function(){return eJ},js:function(){return rr},Fl:function(){return ra},FA:function(){return rs},rw:function(){return ef}});var i,a=t(11628),n=t(92510),o=t(19879),s=t(54175),c=t(95921),l=t(43812),d=t(30567),$=t(52406),u=t(89105),p=t.n(u),h=t(43485),g=t(22150),y=t(9064),m=t(30274),T=t(9889),f=t(98148),v=t(83295),S=t(60720),E=t(60567),I=t(73895),O=t(53375),_=t(80672),R=t(19311),k=t.n(R),x=t(59854),N={DAY:"Day",IOC:"Immediate",YEAR:"Year"},C={YEAR:"YEAR",DAY:"DAY",IOC:"IOC"},b=Object.keys(C),L=b.indexOf(C.DAY),Z=b.indexOf(C.YEAR),P=b.indexOf(C.IOC),M=function(e){var r=e.orderType,t=e.isMarketOpen;switch(!0){case r===g.TW.GTT_ORDER:return g.TW.GTT_ORDER;case r===g.TW.COVER_ORDER&&t:return g.TW.COVER_ORDER;case r===g.TW.STOPLOSS_ORDER:return g.TW.STOPLOSS_ORDER;default:return g.TW.REGULAR_ORDER}},w=function(e){var r=e.orderValidity,t=e.isMarketOpen;switch(!0){case r===C.IOC&&t:return P;case r===C.DAY:return L;case r===C.YEAR:return Z;default:return L}},D=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(e){var i;return(0,n.Z)(this,t),i=r.call(this,e),(0,s.Z)((0,a.Z)(i),"changeOrderValidity",function(e){e===g.TW.GTT_ORDER?((0,f.L9)(T.Z.GTT,m.Z.OCGTTOrder),i.onOrderValidityChange(Z)):i.onOrderValidityChange(L)}),(0,s.Z)((0,a.Z)(i),"onChangeOrderType",function(e){e!==i.state.orderType&&i.setState({orderType:e},function(){return i.changeOrderValidity(e)})}),(0,s.Z)((0,a.Z)(i),"checkIsIntradaySelected",function(){return i.props.product===g.iX.PRODUCT.MIS}),(0,s.Z)((0,a.Z)(i),"checkIfDayDisabled",function(){var e=i.state.orderType;return!g.x.includes(e)}),(0,s.Z)((0,a.Z)(i),"checkIfIocDisabled",function(){var e=i.props.isMarketOpen,r=i.state.orderType;r===g.TW.COVER_ORDER&&(r=g.TW.REGULAR_ORDER);var t=!g.up.includes(r);return!e||t}),(0,s.Z)((0,a.Z)(i),"checkIfYearValidityDisabled",function(){var e=i.state.orderType,r=!g.cb.includes(e);return i.checkIsIntradaySelected()||r}),(0,s.Z)((0,a.Z)(i),"getYearValidityToastMessage",function(){var e=i.state.orderType,r=i.checkIsIntradaySelected(),t="";if(r)t=y.mH.YEAR_VALIDITY_INTRADAY_DISABLED_STOCKS;else switch(e){case g.TW.REGULAR_ORDER:t=y.mH.YEAR_VALIDITY_DISABLED_REGULAR;break;case g.TW.STOPLOSS_ORDER:t=y.mH.YEAR_VALIDITY_DISABLED_SL}E.c.info({subText:t})}),(0,s.Z)((0,a.Z)(i),"getIocValidityToastMessage",function(){var e=i.state.orderType,r=i.props.isMarketOpen,t="";switch(e){case g.TW.STOPLOSS_ORDER:t=y.mH.IOC_VALIDITY_DISABLED_SL;break;case g.TW.GTT_ORDER:t=y.mH.IOC_VALIDITY_DISABLED_GTT;break;case g.TW.COVER_ORDER:t=y.mH.IOC_VALIDITY_DISABLED_COVER;break;case g.TW.REGULAR_ORDER:r||(t=y.mH.IOC_VALIDITY_DISABLED_MARKET)}E.c.info({subText:t})}),(0,s.Z)((0,a.Z)(i),"getDayValidityToastMessage",function(){var e=y.mH.DAY_VALIDITY_DISABLED_GTT;E.c.info({subText:e})}),(0,s.Z)((0,a.Z)(i),"onOrderValidityChange",function(e){var r=i.state.validityIndex,t=i.props.onValidityChange,a=N[b[e]];if(e!==r){if(a===N.DAY){if(i.checkIfDayDisabled())return i.getDayValidityToastMessage();i.setState({validityIndex:e},function(){t(b[i.state.validityIndex])})}else if(a===N.IOC){if(i.checkIfIocDisabled())return i.getIocValidityToastMessage();i.setState({validityIndex:e,orderType:g.TW.REGULAR_ORDER},function(){t(b[i.state.validityIndex])})}else if(a===N.YEAR){if(i.checkIfValidityDisabled(e))return i.getYearValidityToastMessage();(0,f.L9)(T.Z.GTT,m.Z.OCYearValidity),i.setState({validityIndex:e},function(){t(b[i.state.validityIndex])})}}}),(0,s.Z)((0,a.Z)(i),"onInfoClick",function(e){e.stopPropagation(),i.props.onInfoClick()}),(0,s.Z)((0,a.Z)(i),"getRegularOrderInfoText",function(){var e=i.props.isBuyAction;return"Place a ".concat(e?g.iX.TRADING.BUY.toLowerCase():g.iX.TRADING.SELL.toLowerCase()," order, at limit or market price")}),(0,s.Z)((0,a.Z)(i),"getStopLossOrderInfoText",function(){return i.props.isBuyAction?y.g2.ADVANCED_OPTIONS_SL_BUY:y.g2.ADVANCED_OPTIONS_SL_SELL}),(0,s.Z)((0,a.Z)(i),"getGttOrderInfoText",function(){var e=i.props.isBuyAction;return i.checkIsIntradaySelected()?y.g2.INTRADAY_GTT_BLOCKED:e?y.g2.ADVANCED_OPTIONS_GTT_BUY:y.g2.ADVANCED_OPTIONS_GTT_SELL}),(0,s.Z)((0,a.Z)(i),"getStopLossOrderOption",function(){var e=i.state.orderType;return(0,d.jsxs)("div",{onClick:function(){return i.onChangeOrderType(g.TW.STOPLOSS_ORDER)},className:"width100 valign-wrapper cur-po ".concat(k().ao22RadioButtonChoice),children:[(0,d.jsx)(I.R,{selected:e===g.TW.STOPLOSS_ORDER,parentClassName:k().ao22RadioBtnIcon}),(0,d.jsxs)("div",{className:"left-align",children:[(0,d.jsxs)("div",{className:"contentPrimary  bodyMedium14 ".concat(k().ao22RadioBtnChoiceHeading),children:["SL order",(0,d.jsx)(S.Z,{size:18,className:"cur-po ".concat(k().ao22Info," pos-rel"),onClick:i.onInfoClick})]}),(0,d.jsx)("div",{className:"contentSecondary bodyRegular12",children:i.getStopLossOrderInfoText()})]})]})}),(0,s.Z)((0,a.Z)(i),"handleRegularOrderClick",function(){i.state.orderType!==g.TW.COVER_ORDER&&i.onChangeOrderType(g.TW.REGULAR_ORDER)}),(0,s.Z)((0,a.Z)(i),"getRegularOrderOption",function(){var e=i.state.orderType;return(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"width100 ".concat(k().ao22RadioButtonChoice),children:(0,d.jsxs)("div",{onClick:i.handleRegularOrderClick,className:"width100 valign-wrapper",children:[(0,d.jsx)(I.R,{selected:e===g.TW.REGULAR_ORDER||e===g.TW.COVER_ORDER,parentClassName:"".concat(k().ao22RadioBtnIcon," cur-po")}),(0,d.jsxs)("div",{className:"left-align",children:[(0,d.jsx)("div",{className:"contentPrimary  bodyMedium14 ".concat(k().ao22RadioBtnChoiceHeading),children:"Regular order"}),(0,d.jsx)("div",{className:"contentSecondary bodyRegular12",children:i.getRegularOrderInfoText()})]})]})})})}),(0,s.Z)((0,a.Z)(i),"getGttOrderOption",function(){var e=i.state.orderType,r=i.checkIsIntradaySelected(),t=p()((0,s.Z)({},k().aos44DisabledOption,r)),a=function(){return r?i.getYearValidityToastMessage():i.onChangeOrderType(g.TW.GTT_ORDER)};return(0,d.jsx)("div",{className:"width100 ".concat(k().ao22RadioButtonChoice," ")+t,children:(0,d.jsxs)("div",{onClick:a,className:"width100 valign-wrapper cur-po",children:[(0,d.jsx)(I.R,{selected:e===g.TW.GTT_ORDER,parentClassName:k().ao22RadioBtnIcon,iconClassName:t}),(0,d.jsxs)("div",{className:"left-align",children:[(0,d.jsxs)("div",{className:"valign-wrapper contentPrimary  bodyMedium14 ".concat(k().ao22RadioBtnChoiceHeading),children:[(0,d.jsx)("div",{className:t,children:"GTT order"}),(0,d.jsx)(_.Z,{src:x.Z,alt:"gtt",addClass:"".concat(k().ao22Gtt," pos-rel")})]}),(0,d.jsx)("div",{className:"contentSecondary bodyRegular12 "+t,children:i.getGttOrderInfoText()})]})]})})}),(0,s.Z)((0,a.Z)(i),"getValidityOptions",function(){return(0,d.jsxs)("div",{children:[i.getRegularOrderOption(),i.getStopLossOrderOption(),i.getGttOrderOption()]})}),(0,s.Z)((0,a.Z)(i),"getCardHeaderUI",function(){var e=i.props.isBuyAction;return(0,d.jsx)("div",{className:"width100 ".concat(k().ao22Head," pos-rel valign-wrapper"),children:(0,d.jsxs)("div",{className:"contentPrimary valign-wrapper bodyMedium18",children:[(0,d.jsx)(v.Z,{size:24,onClick:i.onCardContinueClick,style:{marginRight:"16px",marginLeft:"-4px"},className:"cur-po"}),"Customise ",e?g.iX.TRADING.BUY.toLowerCase():g.iX.TRADING.SELL.toLowerCase()," order"]})})}),(0,s.Z)((0,a.Z)(i),"getBottomUI",function(){return(0,d.jsx)("div",{className:"width100 ".concat(k().ao22Lower),children:(0,d.jsx)(O.B,{buttonText:"CONTINUE",width:"100%",isDisabled:!1,onClick:i.onCardContinueClick})})}),(0,s.Z)((0,a.Z)(i),"checkIfValidityDisabled",function(e){var r=b[e];switch(r){case C.DAY:return i.checkIfDayDisabled();case C.IOC:return i.checkIfIocDisabled();case C.YEAR:return i.checkIfYearValidityDisabled();default:return!1}}),(0,s.Z)((0,a.Z)(i),"getOrderValidityUI",function(){var e=i.state.validityIndex;return b.map(function(r,t){var a,n=i.checkIfValidityDisabled(t),o=p()("".concat(k().ao22ValidityOption," bodyMedium12 cur-po pos-rel"),(a={},(0,s.Z)(a,"".concat(k().ao22ActiveValidityOption,"  contentAccent"),t===e),(0,s.Z)(a,"".concat(k().ao22InactiveValidityOption," contentSecondary"),t!==e&&!n),(0,s.Z)(a,k().ao22ValidityOptionRightMargin,t!==b.length-1),(0,s.Z)(a,k().ao22DisabledValidityOption,n),a));return(0,d.jsx)("div",{className:o,onClick:function(){return i.onOrderValidityChange(t)},children:N[b[t]]},t)})}),(0,s.Z)((0,a.Z)(i),"onCardContinueClick",function(){var e,r=i.state,t={orderType:r.orderType,orderValidity:b[r.validityIndex]};i.props.onContinue(t)}),i.state={orderType:M(e),validityIndex:w(e)},i}return(0,o.Z)(t,[{key:"render",value:function(){return(0,d.jsx)(h.MC,{timeout:200,children:(0,d.jsxs)("div",{id:"advancedOptions",className:"valign-wrapper vspace-between width100 ".concat(k().ao22Parent),children:[this.getCardHeaderUI(),(0,d.jsxs)("div",{className:"valign-wrapper vspace-between ".concat(k().ao22Main," width100"),children:[(0,d.jsxs)("div",{className:"width100 ".concat(k().ao22Upper),children:[this.getValidityOptions(),(0,d.jsxs)("div",{className:"valign-wrapper vspace-between ".concat(k().ao22Validity),children:[(0,d.jsx)("div",{className:"bodyMedium14",children:"Validity"}),(0,d.jsx)("div",{className:"valign-wrapper",children:this.getOrderValidityUI()})]})]}),this.getBottomUI()]})]})})}}]),t}($.PureComponent),A=t(22920),G=t(11268),B=t.n(G),j=t(4477),Q=t(23194),F=t(4979),Y=t(76070),V=t(86706),U=t(40682),W=t(5852),H=t(42485),q=t.n(H),X={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/amo-success.5c767ac8.svg",height:65,width:65},K={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/pending-img.55b2eeec.svg",height:72,width:72},z=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{headingSuffix:"requested",status:g.QI.SUCCESS,isStatusChange:!1}),(0,s.Z)((0,a.Z)(e),"onOrderDetailClick",function(){var r=e.props,t=r.orderDetails,i=r.history;(0,f.L9)(T.Z.Stocks,m.Z.OCOrderDetailClick,{source:(0,Q.nK)(),isin:null==t?void 0:t.isin,growwOrderId:null==t?void 0:t.growwOrderId}),(0,V.ys)(i,W.Z6.USER+W.Z6.VIEW_ORDER+W.Z6.STOCK+W.Z6.SLASH+t.growwOrderId)}),(0,s.Z)((0,a.Z)(e),"onDoneClick",function(){var r=e.props,t=r.orderDetails,i=r.changeScreenCallback;(0,f.L9)(T.Z.Stocks,m.Z.OCConfirmationClick,{source:(0,Q.nK)(),isin:null==t?void 0:t.isin,growwOrderId:null==t?void 0:t.growwOrderId}),i(g.Js.BUY_SELL_SCREEN)}),e}return(0,o.Z)(t,[{key:"componentDidUpdate",value:function(e){var r=this.props.finalOrderStatus;if(e.finalOrderStatus!==r&&[g.DF.REJECTED,g.DF.FAILED,g.DF.CANCELLED].includes(r)){var t="string"==typeof r?r.toLowerCase():r;this.setState({headingSuffix:t,status:g.QI.PENDING,isStatusChange:!0})}}},{key:"render",value:function(){var e=this.props,r=e.failReason,t=e.dataArray,i=e.orderDetails,a=e.isPriceProtectedMktOrder,n=e.priceProtectionPercentage,o=this.state,c=o.status,l=o.isStatusChange,$=o.headingSuffix,u=["MKT","SL_M"].includes(i.orderType)?"Market":"Limit",h="B"===i.buySell?"".concat(u," buy"):"".concat(u," sell"),y=a&&"MKT"===i.orderType?"It will not execute if the price moves more than ".concat(n,"%."):"";return(0,d.jsxs)("div",{className:"".concat(q().lamocs4Main," valign-wrapper vspace-between"),children:[(0,d.jsxs)("div",{className:"width100",children:[(0,d.jsx)("div",{className:q().lamocs4Animation,children:(0,d.jsx)(_.Z,{alt:"success",src:c===g.QI.PENDING?K:X,width:80,height:80,offset:130})}),(0,d.jsx)("div",{className:q().lamocs4TopDiv,children:(0,d.jsxs)("div",{className:"contentPrimary  display24 ".concat(q().lamocs4Head),children:[h,"\xa0",(0,d.jsx)("span",{className:p()([q().lamocs4Animate],(0,s.Z)({},q().lamocs4FadeInBottom,l)),children:$})]})}),(0,d.jsx)("div",{className:"width100 valign-wrapper ".concat(q().lamocs4Ver),children:t.map(function(e,r){return(0,d.jsxs)("div",{className:"".concat(q().lamocs4OrderDetailsRow," width100 valign-wrapper vspace-between bodyRegular14"),children:[(0,d.jsx)("div",{className:"contentSecondary",children:e[0]}),(0,d.jsx)("div",{className:"contentPrimary",children:e[1]})]},r)})}),(0,d.jsx)("div",{className:"contentAccent cur-po  bodyMedium14 ".concat(q().lamocs4OrderDetailsBtn),onClick:this.onOrderDetailClick,children:"Order details"})]}),(0,d.jsxs)("div",{children:[c!==g.QI.PENDING?(0,d.jsxs)("div",{className:"contentPrimary  bodyRegular12 ".concat(q().lamocs4Para),children:[r,"\xa0",y]}):null,(0,d.jsx)(O.B,{buttonText:"Done",width:"100%",onClick:this.onDoneClick})]})]})}}]),t}($.PureComponent);z.propTypes={topHeading:B().string,failReason:B().string,orderDetails:B().object,changeScreenCallback:B().func},z.defaultProps={topHeading:"Buy order failed",failReason:"Sorry we were unable to place your request."};var J=function(){return(0,F.zB)({finalOrderStatus:(0,Y.Ly)()})},ee=(0,j.qC)((0,A.$j)(J,{}))((0,U.I)(z)),er=t(61233);t(55246);var et={AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_PENDING:"AUTH_PENDING",AUTH_FAILED:"AUTH_FAILED",AUTH_EXPIRED:"AUTH_EXPIRED",AUTH_CONSUMED:"AUTH_CONSUMED"},ei=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{errorText:"",errorType:g.QS.INFO}),(0,s.Z)((0,a.Z)(e),"checkEdisTransaction",function(r){e.processEdisAuthState(r.sellAuthenticationTxnState,r.remark,r)}),(0,s.Z)((0,a.Z)(e),"processEdisAuthState",function(r,t,i){switch((0,f.L9)(T.Z.Stocks,er.Z.EDISPinEnterStatus,i),r){case et.AUTH_FAILED:case et.AUTH_EXPIRED:case et.AUTH_CONSUMED:e.setState({errorText:t||"",errorType:g.QS.ERROR});case et.AUTH_SUCCESS:}}),(0,s.Z)((0,a.Z)(e),"investmentsRedirection",function(){(0,V.ys)(e.props.history,W.Z6.STOCK+W.Z6.USER+W.Z6.INVESTMENT)}),(0,s.Z)((0,a.Z)(e),"tryAgainRedirection",function(){var r=e.isCdslStatusCancelled();(0,V.ys)(e.props.history,r?W.Z6.CDSL_CANCELLATION_AUTH:W.Z6.CDSL_AUTH)}),(0,s.Z)((0,a.Z)(e),"isCdslStatusCancelled",function(){var r,t=e.props.history.location.state;return"CAN"===(null==t?void 0:null===(r=t.cdslStatus)||void 0===r?void 0:r.cdslReqIdentifier)}),e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.history.location.state;e&&e.cdslStatus&&this.checkEdisTransaction(e.cdslStatus)}},{key:"render",value:function(){var e=this.state,r=e.errorText;e.errorType;var t=this.isCdslStatusCancelled()?y.tP:y.N0,i=t.heading,a=t.subHeading,n=t.cdslHeadContent;return(0,d.jsxs)("div",{id:"orderCardcdslAuthStatus",className:"col l12",children:[(0,d.jsx)("div",{className:"valign-wrapper cdslAuthStatus21TopSec",children:(0,d.jsx)("div",{className:"cdslAuthStatus21TopText",children:i})}),(0,d.jsxs)("div",{className:"col l12 valign-wrapper cdslAuthStatus21Ver",children:[(0,d.jsx)("div",{className:"col l12 valign-wrapper cdslAuthStatus21Center",children:(0,d.jsx)(h.Bf,{status:""===r?"SUCCESS":"PENDING",loop:!1,autoplay:!0,height:160,width:160})}),(0,d.jsx)("div",{className:"col l12 valign-wrapper cdslAuthStatus21Hor",children:(0,d.jsx)("div",{className:"contentPrimary cdslAuthStatus21MidTitle",children:""===r?a:"Verification Failed"})}),(0,d.jsx)("div",{className:"col l12 valign-wrapper cdslAuthStatus21Hor",children:(0,d.jsxs)("div",{className:"cdslAuthStatus21MidText contentPrimary",children:[" ",""===r?n:r]})}),(0,d.jsx)("div",{className:"col l12 cdslAuthStatus21Btn",children:(0,d.jsx)(O.B,{buttonText:""===r?"VIEW INVESTMENTS":"TRY AGAIN",width:"100%",onClick:""===r?this.investmentsRedirection:this.tryAgainRedirection})})]})]})}}]),t}($.PureComponent);ei.propTypes={cdslStatus:G.PropTypes.string.isRequired,history:G.PropTypes.object.isRequired},ei.defaultProps={cdslStatus:et.AUTH_SUCCESS,history:{}};var ea,en=ei,eo=t(92116),es=t(96616),ec=t(34491),el=t(9563),ed=t(3100),e$=t(24508),eu={BUY:"B",SELL:"S"},ep={CNC:"CNC",MIS:"MIS"},eh={MARKET:"MKT",LIMIT:"L",SL_M:"SL_M",SL:"SL"},eg={ONE_DAY:"ONE_DAY",ONE_YEAR:"ONE_YEAR"},ey={COVER_ORDER:"CO",GTT_ORDER:"GTT"},em={UP:"UP",DOWN:"DOWN"},eT={REGULAR_ORDER:"REGULAR_ORDER",STOPLOSS_ORDER:"STOPLOSS_ORDER",COVER_ORDER:"COVER_ORDER",GTT_ORDER:"GTT_ORDER"},ef={OPEN_SQR_OFF:"open_square_off",SQR_OFF:"square_off",T2T:"t2t",IPO_LISTING:"ipoListing",AVAILABLE_TO_SELL:"availableToSell",NO_BUYERS:"noBuyers",NO_SELLERS:"noSellers",ST_ASM:"stAsm",LT_ASM:"ltAsm",GSM:"gsm",IRP:"irp",UNSOLICITED_SMS:"unsolicitedSms",NOT_ELIGIBLE:"notEligible",PCAS:"pcas",NO_MODIFY:"noModify",PLEDGE_SHARE_SELL:"pledge_share_sell",SURV_ALERT_INFO:"surv_alert_info"},ev={MIS:9e-4,CNC:.002,AMO_MKT_PROTECTION:.045};(ea=i||(i={})).NRML="Delivery",ea.MIS="Intraday";var eS=function(){function e(){var r=this;(0,n.Z)(this,e),this.isOrderTypeMarket=!1,this.fifthLevelDepthPrice=0,this.limitPrice=0,this.triggerPrice=0,this.isBuyAction=!1,this.marketPrice=0,this.isMarketOpen=!1,this.product=i.NRML,this.qty=0,this.getPrice=function(){return r.price},this.getQty=function(){return r.qty},this.price=null,this.isStopLossOrder=!1,this.isGttOrder=!1,this.isSmartOrder=!1}var r=e.prototype;return r.withProduct=function(e){return this.product=e,this},r.withPriceRangeObj=function(e){return this.priceRangeObj=e,this},r.withQty=function(e){return this.qty=e,this},r.setIsOrderTypeMarket=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isOrderTypeMarket=e,this},r.withFifthLevelDepthPrice=function(e){return this.fifthLevelDepthPrice=e,this},r.withLimitPrice=function(e){return this.limitPrice=e,this},r.setIsStopLossOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isStopLossOrder=e,this},r.setIsGttOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isGttOrder=e,this},r.setIsSmartOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isSmartOrder=e,this},r.withTriggerPrice=function(e){return this.triggerPrice=e,this},r.setIsBuyAction=function(e){return this.isBuyAction=e,this},r.withLivePrice=function(e){return this.marketPrice=e,this},r.duringMarketOpen=function(e){return this.isMarketOpen=e,this},r.withPrice=function(e){return this.price=e,this},r.buildPrice=function(){return this.price=this.isOrderTypeMarket?this.fifthLevelDepthPrice:this.limitPrice,(this.isStopLossOrder||this.isGttOrder||this.isSmartOrder)&&(this.price=this.isOrderTypeMarket?this.triggerPrice:this.limitPrice),this},r.getFifthLevelDepthPrice=function(e,r){return this.withFifthLevelDepthPrice(this.isBuyAction?e:r),this},r.buildLtpToConsider=function(e){var r=null!=e?e:ev.AMO_MKT_PROTECTION,t=this.marketPrice*(1+r),i=this.isMarketOpen?this.fifthLevelDepthPrice:t;return this.withPrice(i),this},r.buildMaxQty=function(e,r){var t,a=this.product===i.MIS?(null===(t=this.priceRangeObj)||void 0===t?void 0:t.intradayPriceFactor)/100+e:1+r,n=(Number(this.price)*Number(a)).toFixed(3),o=2e6/Number(n),s=Math.min(this.priceRangeObj.defaultMaxBuyQty,Math.floor(100*o)/100);return this.withQty(s),this},e.fromOrderType=function(r,t,i,a){return new e().setIsOrderTypeMarket(a).setIsStopLossOrder(r).setIsGttOrder(t).setIsSmartOrder(i)},e.fromBuySell=function(r){return new e().setIsBuyAction(r)},e.fromProduct=function(r){return new e().withProduct(r)},e}();t(707);var eE=function(e){var r=e.shareQty,t=e.productType,i=e.onDoneClick,a=e.isFailure,n=e.fetchErrorText,o=t===ep.CNC?"Delivery":"Intraday",s=t===ep.CNC?"Intraday":"Delivery",c=function(e,r){return(0,d.jsxs)("div",{className:"width100 valign-wrapper vspace-between cc24Hor bodyRegular14",children:[(0,d.jsx)("div",{className:"contentSecondary",children:e}),(0,d.jsx)("div",{className:"contentPrimary",children:r})]})};return(0,d.jsxs)("div",{className:"valign-wrapper vspace-between width100 cc24Main",children:[(0,d.jsxs)("div",{className:"width100",children:[(0,d.jsx)("div",{className:"cc24Animation width100",children:(0,d.jsx)(h.Bf,{width:100,height:100,status:a?"PENDING":"SUCCESS",loop:!1,autoplay:!0})}),(0,d.jsx)("div",{className:"contentPrimary cc24Head display24",children:"Conversion ".concat(a?"failed":"successful")}),a&&(0,d.jsx)("div",{className:"contentPrimary center-align cc24FailureText bodyRegular12",children:n}),(0,d.jsx)("div",{className:"width100 cc24ConversionDetails",children:(0,d.jsxs)("div",{className:"width100 valign-wrapper cc24Ver",children:[c("Shares",r),c("From",o),c("To",s)]})})]}),(0,d.jsx)("div",{className:"width100",children:(0,d.jsx)(O.B,{buttonText:"DONE",width:"100%",onClick:i})})]})},eI=$.memo(eE);t(84476);var eO={CONVERSION_CONFIRM:"conversion_confirm",CONVERSION_CONGRATS:"conversion_congrats"},e8={DELIVERY:"Delivery",INTRADAY:"Intraday"},e_={CNC:"CNC",MIS:"MIS"},eR=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(e){var i;return(0,n.Z)(this,t),i=r.call(this,e),(0,s.Z)((0,a.Z)(i),"isBuyAction",function(){return i.props.shareQty>0}),(0,s.Z)((0,a.Z)(i),"getRequiredUI",function(){var e=i.state,r=e.loading,t=e.showShareQtyError,a=e.shareQty,n=e.errorType,o=e.errorText,s=e.amountNotEnough,c=i.props,l=c.onGoBack,$=c.exchange,u=c.priceRangeObject,p=i.isIntraday()?e8.INTRADAY:e8.DELIVERY,h=i.isIntraday()?e8.DELIVERY:e8.INTRADAY,y=a>u.maxApprovedSellQty&&!i.isBuyAction()&&i.isIntraday(),m=t,T=t?n===g.QS.ERROR?"error":"warning":"default";return(0,d.jsx)("div",{id:"convertPosition",className:"cp12ConvertMain",children:(0,d.jsxs)("div",{className:"valign-wrapper vspace-between cp12Collective",children:[(0,d.jsxs)("div",{className:"width100 valign-wrapper cp12Upper",children:[(0,d.jsx)("div",{className:"width100 cp12Head pos-rel valign-wrapper",children:(0,d.jsxs)("div",{className:"contentPrimary valign-wrapper bodyMedium18",children:[(0,d.jsx)(v.Z,{size:24,onClick:l,style:{marginRight:"16px",marginLeft:"-4px"},className:"cur-po"}),"Convert position"]})}),(0,d.jsxs)("div",{className:"width100 valign-wrapper cp12Rows",children:[(0,d.jsxs)("div",{className:"width100 valign-wrapper vspace-between cp12TypeRow",children:[(0,d.jsxs)("div",{className:"contentPrimary valign-wrapper bodyRegular14",children:["Type",(0,d.jsx)("span",{className:"cp12ConvertInfo",children:"".concat(p," > ").concat(h)})]}),i.isIntraday()&&(0,d.jsxs)("div",{className:"contentSecondary bodyRegular12",children:[(0,d.jsx)("span",{className:"contentPrimary",children:i.props.shareQty}),"\xa0Net Qty"]}),!i.isIntraday()&&(0,d.jsxs)("div",{className:"contentSecondary bodyRegular12",children:[(0,d.jsx)("span",{className:"contentPrimary",children:i.props.shareQty}),"\xa0Qty available"]})]}),(0,d.jsxs)("div",{className:"width100 valign-wrapper vspace-between cp12UpdatedQtyRow",children:[(0,d.jsxs)("div",{className:"contentPrimary bodyRegular14",style:{display:"flex"},children:["Updated shares",(0,d.jsxs)("span",{className:"bodyMedium14",style:{marginLeft:"6px"},children:[" ",$]})]}),(0,d.jsx)(ed.N,{variant:T,value:a,onChange:i.onQtyChange,id:"updatedShare",onKeyDown:i.onShareQtyKeyDown,autoComplete:"off",pattern:"/^(0|[1-9]\\d*)$/",placeholder:"",inputMode:"numeric"})]})]})]}),(0,d.jsxs)("div",{className:"width100 cp12Lower",children:[(0,d.jsx)("div",{className:"cp12Wrapper width100",children:t&&(0,d.jsx)(e$.T,{isWarning:m&&n===g.QS.WARNING,isError:m&&n===g.QS.ERROR,children:o})}),(0,d.jsx)("div",{className:"width100",children:s?(0,d.jsx)(O.B,{buttonText:"ADD MONEY",width:"100%",onClick:i.onAddMoneyClick,showLoader:r,loadingText:"Please wait...",loaderType:"Linear"}):(0,d.jsx)(O.B,{buttonText:y?"VERIFY SELL":"CONVERT TO ".concat(h.toUpperCase()),width:"100%",isDisabled:t,onClick:i.onCardContinueClick,isPrimary:!0,showLoader:r,loadingText:"Please wait...",loaderType:"Linear"})})]})]})})}),(0,s.Z)((0,a.Z)(i),"onCardContinueClick",function(){var e=i.props,r=e.executeSell,t=e.symbolIsin,a=i.state.shareQty,n=i.isIntraday()?e_.CNC:e_.MIS;(0,f.L9)(T.Z.Stocks,m.Z.ConvertConfirm,{searchId:null,isin:t,source:i.isIntraday()?"IntradayPositions":"DeliveryPositions",positionsValue:i.props.shareQty,shares:a,convertTo:n}),!i.checkIsNotValidQty(i.checkIsNotValidAvailableBalance)&&(i.isCDSLFlowNeeded()?r():i.convertStockPosition())}),(0,s.Z)((0,a.Z)(i),"isCDSLFlowNeeded",function(){return!i.isBuyAction()&&i.props.priceRangeObject.maxApprovedSellQty<i.state.shareQty&&i.isIntraday()}),(0,s.Z)((0,a.Z)(i),"onAddMoneyClick",function(){var e=i.props,r=e.symbolIsin,t=e.changeScreenMethod,a={searchId:null,symbolIsin:r,source:(0,Q.nK)()};(0,f.L9)(T.Z.Stocks,er.Z.PreAddMoneyClick,a),t(g.Js.ADD_MONEY_INTERMEDIATE_SCREEN,i.calculateCost())}),(0,s.Z)((0,a.Z)(i),"convertStockPosition",function(){var e=i.props,r=e.exchange,t=e.symbolIsin,a=i.state.shareQty,n=i.isIntraday()?e_.CNC:e_.MIS,o={stockExchange:r,stockSegment:"CASH",stocksBuySell:i.props.shareQty>0?"B":"S",symbolIsin:t,targetProduct:n,targetQty:a};i.setState({loading:!0,fetchError:!1}),(0,eo.Be)(o).then(function(e){i.setState({loading:!1,flowScreen:eO.CONVERSION_CONGRATS,fetchError:!1,fetchErrorText:""}),i.props.onOrderCompleteCB();var r=i.isIntraday()?e_.CNC:e_.MIS;(0,f.L9)(T.Z.Stocks,m.Z.ConvertConfirmClick,{searchId:null,isin:t,source:i.isIntraday()?"IntradayPositions":"DeliveryPositions",positionsValue:i.props.shareQty,shares:a,convertTo:r})}).catch(function(e){i.setState({loading:!1,flowScreen:eO.CONVERSION_CONGRATS,fetchError:!0,fetchErrorText:(0,es.f)(e,"response.data.errorMessage.message",y.ap.GENERAL_ERROR)})})}),(0,s.Z)((0,a.Z)(i),"isIntraday",function(){return i.props.product===e_.MIS}),(0,s.Z)((0,a.Z)(i),"showLessSharesAvailable",function(){return i.state.shareQty>i.props.availableShares&&!i.isBuyAction()&&i.isIntraday()}),(0,s.Z)((0,a.Z)(i),"checkIsNotValidQty",function(e){var r=i.state.shareQty,t=i.props,a=t.availableShares,n=t.priceRangeObject,o=t.product,s=t.livePrice,c=t.fifthLevelSellDepthPrice,l=t.fifthLevelBuyDepthPrice,d=t.remoteConfig,$=i.props.shareQty>0,u=eS.fromBuySell($).withLivePrice(s).duringMarketOpen(!0).withFifthLevelDepthPrice(c,l).buildLtpToConsider(null==d?void 0:d.amoMarketProtection).getPrice(),p=eS.fromOrderType(!1,!1,!1,!0).withFifthLevelDepthPrice(u).withLimitPrice(0).withTriggerPrice(0).buildPrice().withProduct(o===e_.MIS?e8.DELIVERY:e8.INTRADAY).withPriceRangeObj(n).buildMaxQty(null==d?void 0:d.misPercentage,null==d?void 0:d.cncPercentage).getQty(),h=n.pledgedHoldings>0&&r>a-n.pledgedHoldings&&!i.isBuyAction()&&i.isIntraday();if(!r)return i.setState({errorType:g.QS.ERROR,showShareQtyError:!0,errorText:"All inputs are required"}),!0;if(r>Math.abs(i.props.shareQty))return i.setState({errorType:g.QS.ERROR,showShareQtyError:!0,errorText:"".concat(1===Math.abs(i.props.shareQty)?"1 share is available to convert":Math.abs(i.props.shareQty)+" shares are available to convert")}),!0;if(i.showLessSharesAvailable())return i.setState({amountNotEnough:!1,errorType:g.QS.ERROR,showShareQtyError:!0,errorText:"".concat(1===a?"1 share is available to sell":a+" shares are available to sell")}),!0;if(Number(r)>=p&&p>=1){var y=$?"Enter qty <".concat((0,ec.a)(p,el.i)," as order value can't exceed 20L"):"You can only sell ".concat((0,ec.a)(p,el.i)," qty at once");return i.setState({errorType:g.QS.ERROR,showShareQtyError:!0,errorText:y}),!0}if(!h)return!!e&&e();else{var m=a-n.pledgedHoldings,T="Your account has only ".concat(m," shares to sell");return i.setState({errorType:g.QS.ERROR,showShareQtyError:!0,errorText:T}),!0}}),(0,s.Z)((0,a.Z)(i),"checkIsNotValidAvailableBalance",function(e){var r,t=i.props,a=t.cncWalletBalance,n=t.misWalletBalance;return i.calculateCost()>parseFloat(i.isIntraday()?a:n)?(i.setState({amountNotEnough:!0,errorType:g.QS.WARNING,showShareQtyError:!0,errorText:"Available amount is not enough to convert"}),!0):e?e():void 0}),(0,s.Z)((0,a.Z)(i),"getEstimatedCost",function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=i.props,a=t.priceRangeObject,n=t.dailyPriceRange;e=Number(e);var o=a.openSellQty,s=a.openBuyQty,c=a.netPosition,l=a.intradayPriceFactor,d=n.lpr,$=n.upr;if(r)return parseFloat(d*e*g.Gc.DELIVERY).toFixed(2);var u=0;return(u=Math.max(Math.abs(c+s-e),Math.abs(c-o-e))-Math.max(Math.abs(c+s),Math.abs(c-o)))<0?u*$*(l/100+.00125):u*d*(l/100+.00125)}),(0,s.Z)((0,a.Z)(i),"calculateCost",function(){var e=i.state.shareQty,r=0;return i.isIntraday()||i.isBuyAction()?i.isIntraday()&&i.isBuyAction()&&(r=(Number(i.getEstimatedCost(e,!0))+Number(i.getEstimatedCost(e))).toFixed(2)):r=(Number(i.getEstimatedCost(e,!0))+Number(i.getEstimatedCost(e))).toFixed(2),r}),(0,s.Z)((0,a.Z)(i),"onShareQtyKeyDown",function(e){var r=i.state.shareQty;"."===e.key?e.preventDefault():"0"===e.key&&0===r.length?e.preventDefault():"-"===e.key?e.preventDefault():("e"===e.key||"+"===e.key)&&e.preventDefault()}),(0,s.Z)((0,a.Z)(i),"onQtyChange",function(e){var r=e.target;i.setState({shareQty:r.value,showShareQtyError:!1},function(){i.checkIsNotValidQty(i.checkIsNotValidAvailableBalance)})}),i.state={showShareQtyError:!1,shareQty:Math.abs(e.shareQty),errorType:g.QS.ERROR,errorText:"",flowScreen:eO.CONVERSION_CONFIRM,loading:!1,fetchError:!1,amountNotEnough:!1,fetchErrorText:""},i}return(0,o.Z)(t,[{key:"componentDidUpdate",value:function(e,r){var t=this;e.shareQty!==this.props.shareQty&&this.setState({shareQty:Math.abs(this.props.shareQty),showShareQtyError:!1},function(){t.checkIsNotValidQty(t.checkIsNotValidAvailableBalance)})}},{key:"render",value:function(){var e=this.state,r=e.flowScreen,t=e.shareQty,i=e.fetchError,a=e.fetchErrorText,n=this.props,o=n.product,s=n.onGoBack;return(0,d.jsx)("div",{id:"stkConversionCard",className:"cp12Main",children:r===eO.CONVERSION_CONFIRM?this.getRequiredUI():(0,d.jsx)(eI,{shareQty:t,productType:o,onDoneClick:s,isFailure:i,fetchErrorText:a})})}}]),t}($.PureComponent);eR.defaultProps={shareQty:0,productType:"CNC"};var ek=eR,ex=t(17891),eN=t(82845),eC=t(9747),eb=t(5901);t(92459);var eL=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.props,r=e.cardTitle,t=e.onCancel;return(0,d.jsxs)("div",{className:"cd34Card",children:[(0,d.jsx)("div",{className:"cd34CardHeader pos-rel valign-wrapper",children:(0,d.jsxs)("div",{className:"contentPrimary valign-wrapper bodyMedium18",children:[(0,d.jsx)(v.Z,{size:24,onClick:t,style:{marginRight:"16px",marginLeft:"-4px"},className:"cur-po rippleCustom"}),r]})}),(0,d.jsx)("div",{className:"cd34cardBody",children:this.props.children})]})}}]),t}($.PureComponent),eZ=JSON.parse('{"v":"4.6.3","fr":29.9700012207031,"ip":0,"op":35.0000014255792,"w":400,"h":400,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[200,205,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[77.411,77.411,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[288.949,288.949]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[-2.959]},"o":{"x":[0.333],"y":[0]},"n":["0p667_-2p959_0p333_0"],"t":0,"s":[6],"e":[7.98]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0.226]},"n":["0p667_1_0p333_0p226"],"t":4,"s":[7.98],"e":[34]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":7,"s":[34],"e":[54]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":12,"s":[54],"e":[100]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":19,"s":[100],"e":[100]},{"t":35.0000014255792}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[0],"e":[47]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":24,"s":[47],"e":[92]},{"t":35.0000014255792}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[-70],"e":[46]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":7,"s":[46],"e":[115]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":12,"s":[115],"e":[144]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":19,"s":[144],"e":[173]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":24,"s":[173],"e":[309]},{"t":35.0000014255792}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"},{"ty":"st","c":{"a":0,"k":[0,0.8156862745098039,0.611764705882353,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":14},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[2.549,-5.717],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[108.139,108.139],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"big_circle","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[288.949,288.949]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":1,"s":[0],"e":[22.284]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":15,"s":[22.284],"e":[84]},{"t":35.0000014255792}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[13],"e":[100]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":15,"s":[100],"e":[100]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":29,"s":[100],"e":[100]},{"t":35.0000014255792}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"n":["0p833_0p833_0p333_0"],"t":1,"s":[-22],"e":[11]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":33,"s":[11],"e":[22]},{"t":35.0000014255792}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"},{"ty":"st","c":{"a":0,"k":[0,0.8156862745098039,0.611764705882353,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":19},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[2.549,-5.717],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[72.226,72.226],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"small_circle","np":4,"cix":2,"ix":2,"mn":"ADBE Vector Group"}],"ip":0,"op":900.000036657751,"st":0,"bm":0,"sr":1}]}');t(3909);var e1={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/delete48.7801822a.svg",height:48,width:48},eP=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{loading:!1,orderDetails:e.props.orderDetails,showShareQtyError:!1,errorText:""}),(0,s.Z)((0,a.Z)(e),"getCancellingText",function(){var r=e.state.orderDetails.symbolName,t=e.getOrderActionTypeText(),i=e.getProductType(),a=e.getOrderQtyText();return(0,d.jsxs)("div",{children:["You are cancelling your ",(0,d.jsxs)("span",{className:"bodyMedium14",children:[i," "]})," ",t,"  order for",(0,d.jsxs)("span",{className:"bodyMedium14",children:[" ",r," "]})," for",(0,d.jsxs)("span",{className:"bodyMedium14",children:[" ",a]})," qty"]})}),(0,s.Z)((0,a.Z)(e),"getOrderActionTypeText",function(){var r=e.state.orderDetails,t=r.buySell,i=r.smartOrderType,a=r.orderType,n=r.gttOrderId,o=t===eu.BUY,s=(0,Q.lE)(i),c=(0,Q.Kd)(i,a),l=(0,Q.vE)(i,n);return c?o?"Buy + Sell SL":"Sell + Buy SL":s?o?"Buy SL":"Sell SL":l?o?"Buy":"Sell":o?"Buy":"Sell"}),(0,s.Z)((0,a.Z)(e),"getProductType",function(){var r=e.state.orderDetails,t=r.orderType,i=r.product,a=r.smartOrderType,n=r.gttOrderId,o=(0,Q.Kd)(a,t),s=(0,Q.vE)(a,n);return o?"":s?"GTT":i===ep.CNC?g.iX.PRODUCT.CNC:g.iX.PRODUCT.MIS}),(0,s.Z)((0,a.Z)(e),"getOrderQtyText",function(){var r,t=e.state.orderDetails,i=t.qty,a=t.filledQty,n=t.smartOrderType,o=t.gttOrderId;return(0,Q.vE)(n,o)?i:i-a}),(0,s.Z)((0,a.Z)(e),"onCancelOrder",function(r){var t=e.state.orderDetails,i=t.smartOrderType,a=t.growwOrderId,n=t.gttOrderId,o=t.orderStatus,s=t.searchId,c=t.symbolIsin,l=t.orderType,d=t.buySell,$=t.guiOrderId;if((0,Q.vE)(i,n)){e.onCancelGttOrder();return}o===g.DF.NEW?e.setState({showShareQtyError:!0,errorText:y.df.REQUESTED_STATE_MSG}):(e.setState({loading:!0}),(0,eo.Ub)(a,$).then(function(r){(0,f.L9)(T.Z.Stocks,er.Z.OCCancelConfirmOrderClick,{searchId:s,symbolIsin:c,source:e.getSourcePage(),orderType:l,buySell:d,guiOrderId:$}),204===r.status&&(e.updateOrderStatus(),e.props.onCancel&&e.props.onCancel())}).catch(function(r){var t,i,a,n,o,s,c,l;(null==r?void 0:null===(t=r.response)||void 0===t?void 0:null===(i=t.data)||void 0===i?void 0:i.errorCode)===422&&(e.updateOrderStatus(),E.c.error({subText:null!==(l=null==r?void 0:null===(o=r.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:null===(c=s.errorMessage)||void 0===c?void 0:c.message)&&void 0!==l?l:"Cancellation not allowed"})),(0,f.L9)(T.Z.Stocks,er.Z.OCCancelConfirmOrderClickFailed,{errorResponse:null==r?void 0:null===(a=r.response)||void 0===a?void 0:a.status,errorMessage:null==r?void 0:null===(n=r.response)||void 0===n?void 0:n.data,guiOrderId:$})}))});var e,i=(0,a.Z)(e);return(0,s.Z)((0,a.Z)(e),"onCancelGttOrder",(0,ex.Z)(function(){var e,r,t,a,n,o,s,c,l,d,$,u,p,h,g,y,m,v,S;return(0,eb.__generator)(this,function(I){switch(I.label){case 0:r=(e=i.state.orderDetails).gttOrderId,t=e.searchId,a=e.symbolIsin,n=e.orderType,o=e.buySell,s=e.guiOrderId,c={},i.setState((c.loading=!0,c)),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,(0,eo.Qg)(r,s)];case 2:return l=I.sent(),d={},(0,f.L9)(T.Z.GTT,er.Z.OCCancelConfirmOrderClick,(d.searchId=t,d.symbolIsin=a,d.source=i.getSourcePage(),d.orderType=n,d.buySell=o,d)),202===l.status&&(i.checkForGttOrderStatus(r),i.props.onCancel&&i.props.onCancel()),[3,4];case 3:return $=I.sent(),m={},(0,f.L9)(T.Z.GTT,er.Z.OCCancelConfirmOrderClickFailed,(m.errorResponse=null==$?void 0:null===(u=$.response)||void 0===u?void 0:u.status,m.errorMessage=null==$?void 0:null===(p=$.response)||void 0===p?void 0:p.data,m.guiOrderId=s,m)),i.checkForGttOrderStatus(r),S={},E.c.error((S.subText=null!==(v=null==$?void 0:null===(h=$.response)||void 0===h?void 0:null===(g=h.data)||void 0===g?void 0:null===(y=g.errorMessage)||void 0===y?void 0:y.message)&&void 0!==v?v:"Failed to cancel order",S)),[3,4];case 4:return[2]}})})),(0,s.Z)((0,a.Z)(e),"updateOrderStatus",function(){e.checkForOrderStatus(),e.checkTimer=setInterval(function(){e.checkForOrderStatus()},2e3),setTimeout(function(){e.checkTimer&&(clearInterval(e.checkTimer),e.setState({loading:!1}))},4e3)}),(0,s.Z)((0,a.Z)(e),"checkForOrderStatus",function(){var r=e.state.orderDetails,t=r.growwOrderId;(0,eo.z7)(t).then(function(t){var i,a=null!==(i=t.data)&&void 0!==i?i:{},n=(0,eN.Z)({},r,a);e.processStatusHandler(n.orderStatus,n),e.setState({orderDetails:n})}).catch(function(e){console.error(e)})}),(0,s.Z)((0,a.Z)(e),"checkForGttOrderStatus",function(r){(0,eo.WI)(r).then(function(r){var t;(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.orderInfo)&&(e.processStatusHandler(r.data.orderInfo.orderStatus,(0,eC.Z)((0,eN.Z)({},r.data.orderInfo),{symbolName:r.data.symbolData.symbolName})),e.setState({orderDetails:(0,eC.Z)((0,eN.Z)({},r.data.orderInfo),{symbolName:r.data.symbolData.symbolName})}))}).catch(function(e){})}),(0,s.Z)((0,a.Z)(e),"processStatusHandler",function(r,t){return(0,Q.vE)(null==t?void 0:t.smartOrderType,null==t?void 0:t.gttOrderId)?e.processGttOrderStatus(r,t):e.processStatus(r,t)}),(0,s.Z)((0,a.Z)(e),"processStatus",function(r,t){switch(r){case g.DF.REJECTED:case g.DF.FAILED:case g.DF.EXECUTED:e.checkTimer&&(clearInterval(e.checkTimer),e.setState({loading:!1}));break;case g.DF.CANCELLED:case g.DF.ACKED:e.checkTimer&&(clearInterval(e.checkTimer),e.setState({loading:!1})),e.props.onOrderCompleteCB({orderDetails:t})}}),(0,s.Z)((0,a.Z)(e),"getGttOrderStatusToast",function(r,t){var i=t.symbolName,a=e.getOrderActionTypeText(),n=e.getOrderQtyText(),o=(0,d.jsxs)("div",{children:["Your ",(0,d.jsx)("span",{children:"GTT "})," ",a," order for ",(0,d.jsxs)("span",{children:[i," "]}),"for ",(0,d.jsxs)("span",{children:[n," "]})," qty has been cancelled."]}),s=(0,d.jsxs)("div",{children:["Your ",(0,d.jsx)("span",{children:"GTT "})," ",a," order for ",(0,d.jsxs)("span",{children:[i," "]}),"for ",(0,d.jsxs)("span",{children:[n," "]})," qty has already expired."]}),c=(0,d.jsxs)("div",{children:["Your ",(0,d.jsx)("span",{children:"GTT "})," ",a," order for ",(0,d.jsxs)("span",{children:[i," "]}),"for ",(0,d.jsxs)("span",{children:[n," "]})," qty has already been triggered."]});switch(r){case g.DF.CANCELLED:E.c.success({title:"".concat(a," order cancelled"),subText:o});break;case g.DF.EXPIRED:E.c.error({title:"".concat(a," order expired"),subText:s});break;case g.DF.TRIGGERED:E.c.error({title:"".concat(a," order already triggered"),subText:c})}}),(0,s.Z)((0,a.Z)(e),"processGttOrderStatus",function(r,t){switch(e.setState({loading:!1}),r){case g.DF.CANCELLED:case g.DF.EXPIRED:case g.DF.TRIGGERED:e.props.onOrderCompleteCB({orderDetails:t,isGttOrder:!0}),e.getGttOrderStatusToast(r,t)}}),(0,s.Z)((0,a.Z)(e),"getSourcePage",function(){var e="";return window.location.href.includes("investments")?"Open Orders":"My Orders"}),e}return(0,o.Z)(t,[{key:"componentDidUpdate",value:function(e,r){var t=this.props.orderDetails;e.orderDetails!==t&&this.setState({orderDetails:t})}},{key:"render",value:function(){var e=this.state,r=e.errorText,t=e.showShareQtyError,i=this.state.orderDetails,a=i.filledQty,n=i.buySell;return(a=a||0,this.state.loading)?(0,d.jsx)("div",{className:"ca23Progress",children:this.getProgressUI()}):(0,d.jsx)(eL,{cardTitle:"Cancel ".concat(n===eu.BUY?"buy":"sell"," order"),onCancel:this.props.onCancel,children:(0,d.jsxs)("div",{className:"ca23cancelOrderCard center-align contentPrimary pos-rel bodyRegular14",children:[(0,d.jsx)("div",{className:"ca23Upper absolute-center",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"ca23DeleteImg",children:(0,d.jsx)(_.Z,{height:48,width:48,alt:"cancel order",src:e1})}),this.getCancellingText(),a&&a>0?(0,d.jsx)("div",{className:"ca23FilledText",children:1===a?"1 share is already purchased.":"".concat(a," shares are already purchased.")}):null]})}),(0,d.jsxs)("div",{className:"ca23Lower",children:[(0,d.jsx)("div",{className:"ca23ErrorPosition width100",children:(0,d.jsx)(e$.T,{isWarning:!1,isError:t,children:r})}),(0,d.jsx)("div",{className:"width100",children:(0,d.jsx)(O.B,{buttonText:"CONFIRM CANCEL",onClick:this.onCancelOrder,width:"100%"})})]})]})})}},{key:"getProgressUI",value:function(){return(0,d.jsxs)("div",{className:"ca23Cancelling contentPrimary absolute-center bodyRegular14",children:[(0,d.jsx)("div",{style:{height:220},children:(0,d.jsx)(h.Bf,{animation:eZ,loop:!0,autoplay:!0,height:220,width:220})}),(0,d.jsx)("div",{className:"center-align contentPrimary ca23CancellingText bodyMedium16",children:"Cancelling Order"})]})}}]),t}($.PureComponent),eM=t(72897);t(78944);var ew=[{id:0,img:{src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/intradayInfo.9a63c8d6.svg",height:66,width:70},headingText:y.g2.INTRADAY_INFO_Q1,paraText:y.g2.INTRADAY_INFO_A1,footerText:y.g2.INTRADAY_INFO_FOOTER_1},{id:1,img:{src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/money.09d6ff20.svg",height:72,width:68},headingText:y.g2.INTRADAY_INFO_Q2,paraText:y.g2.INTRADAY_INFO_A2,footerText:y.g2.INTRADAY_INFO_FOOTER_2},{id:2,img:{src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/shortInfo.b18326e5.svg",height:72,width:72},headingText:y.g2.INTRADAY_INFO_Q3,paraText:y.g2.INTRADAY_INFO_A3,footerText:y.g2.INTRADAY_INFO_FOOTER_3}],eD=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{currentSlide:0}),(0,s.Z)((0,a.Z)(e),"getNavSection",function(){return(0,d.jsx)("div",{className:"iic32NavSection valign-wrapper",children:(0,d.jsxs)("div",{className:"contentPrimary valign-wrapper bodyMedium14",children:[(0,d.jsx)(v.Z,{onClick:e.handleOnBack,className:"cur-po"}),(0,d.jsx)("span",{className:"iic32NavText",children:"Introducing Intraday"})]})})}),(0,s.Z)((0,a.Z)(e),"getCarouselSlides",function(){return(0,d.jsx)("div",{className:"iic32SliderWrapper",children:ew.map(function(r){return e.getSlideById(r.id)})})}),(0,s.Z)((0,a.Z)(e),"getSlideById",function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e.state.currentSlide,i=ew[r],a=p()("iic32Slide",{iic32ActiveSlide:t===r});return(0,d.jsx)("div",{className:a,style:{transform:"translateX(".concat(-100*t,"%)")},children:e.getContentSection(i)})}),(0,s.Z)((0,a.Z)(e),"getContentSection",function(e){return(0,d.jsxs)("div",{className:"iic32ContentSection",children:[(0,d.jsx)("div",{className:"iic32Image",children:(0,d.jsx)(_.Z,{src:e.img,alt:e.headingText,width:72,height:72})}),(0,d.jsx)("div",{className:"contentPrimary iic32HeadText bodyMedium14",children:e.headingText}),(0,d.jsx)("div",{className:"contentPrimary iic32ParaText bodyRegular12",children:e.paraText})]})}),(0,s.Z)((0,a.Z)(e),"getNonTranslatingContent",function(){var r=ew[e.state.currentSlide];return(0,d.jsxs)(d.Fragment,{children:[e.getDotsSection(r),e.getFooterSection(r)]})}),(0,s.Z)((0,a.Z)(e),"getDotsSection",function(e){var r=e.id,t=void 0===r?0:r;return(0,d.jsx)("div",{className:"iic32DotSection",children:[{},{},{}].map(function(e,r){var i=p()("iic32Dot",{iic32ActiveDot:r===t});return(0,d.jsx)("span",{className:i},e)})})}),(0,s.Z)((0,a.Z)(e),"getFooterSection",function(r){return(0,d.jsx)("div",{className:"iic32FooterSection",children:(0,d.jsx)("div",{className:"contentAccent cur-po fadeIn bodyMedium12",onClick:e.updateSlide,children:r.footerText})})}),(0,s.Z)((0,a.Z)(e),"handleOnBack",function(){var r=e.state.currentSlide,t=e.props.onGoBack;if(0===r){t();return}r-=1,e.setState({currentSlide:r})}),(0,s.Z)((0,a.Z)(e),"updateSlide",function(){var r=e.state.currentSlide,t=e.props.onFinishIntro;if(r===ew.length-1){t();return}r+=1,e.setState({currentSlide:r})}),e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.setIntradayRiskVisibilityInCache();try{(0,eo.Kz)(g.xO.HAS_SEEN_INTRADAY_SCREEN,!0)}catch(e){console.error(e)}}},{key:"setIntradayRiskVisibilityInCache",value:function(){return(0,ex.Z)(function(){var e,r,t,i;return(0,eb.__generator)(this,function(a){switch(a.label){case 0:return[4,(0,V.Ie)()];case 1:return e=a.sent(),t={},i={},r=(0,eC.Z)((0,eN.Z)(t,e),(0,s.Z)(i,g.xO.HAS_SEEN_INTRADAY_SCREEN,!0)),(0,eM.$3)(r),[2]}})})()}},{key:"render",value:function(){return(0,d.jsx)(h.MC,{children:(0,d.jsxs)("div",{id:"intradayInfo",children:[this.getNavSection(),this.getCarouselSlides(),this.getNonTranslatingContent()]})})}}]),t}($.PureComponent);eD.propTypes={onGoBack:B().func,onFinishIntro:B().func},eD.defaultProps={onGoBack:function(){},onFinishIntro:function(){}};var e0=eD;t(36522);var eA=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"onDoneClick",function(){(0,f.L9)(T.Z.Stocks,er.Z.StocksDashClick,{source:"OrderCard"}),(0,V.ys)(e.props.history,W.Z6.STOCK+W.Z6.USER+W.Z6.INVESTMENT)}),(0,s.Z)((0,a.Z)(e),"onOrderDetailClick",function(){var r=e.props,t=r.orderId,i=r.history,a=r.isGttOrder?W.Z6.USER+W.Z6.VIEW_ORDER+W.Z6.STOCK+W.Z6.SLASH+t+"?orderType="+g.Dc.GTT:W.Z6.USER+W.Z6.VIEW_ORDER+W.Z6.STOCK+W.Z6.SLASH+t;(0,V.ys)(i,a)}),e}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.props,r=e.topHeading,t=e.dataArray,i=e.onCloseBoxClick,a=e.context,n=e.orderId;return(0,d.jsxs)("div",{className:"stkMc5Upper width100 valign-wrapper vspace-between center-align",children:[(0,d.jsxs)("div",{className:"width100",children:[(0,d.jsx)("div",{className:"stkMc5Animation",children:(0,d.jsx)(h.Bf,{width:100,height:100,status:"SUCCESS",loop:!1,autoplay:!0})}),(0,d.jsx)("div",{className:"stkMc5TopDiv",children:(0,d.jsx)("div",{className:"contentPrimary display24",children:r})}),(0,d.jsx)("div",{className:"width100 valign-wrapper stkMc5Ver",children:t.map(function(e,r){return(0,d.jsxs)("div",{className:"width100 valign-wrapper vspace-between stkMc5Hor bodyRegular14",children:[(0,d.jsx)("div",{className:"contentSecondary",children:e[0]}),(0,d.jsx)("div",{className:"contentPrimary",children:e[1]})]},r)})}),!(0,es.a)(n)&&"dashboard"===a&&(0,d.jsx)("div",{className:"stkMc5OrderDetailsBtn contentAccent cur-po bodyMedium14",onClick:this.onOrderDetailClick,children:"Order details"})]}),"dashboard"!==a?(0,d.jsxs)("div",{className:"width100 valign-wrapper ",children:[(0,d.jsx)("div",{className:"contentAccent stkMc5LowerChild bodyMedium14",children:(0,d.jsx)("span",{className:"stkMc5CloseTxt cur-po",onClick:i,children:"CLOSE"})}),(0,d.jsx)("div",{className:"stkMc5LowerChild",children:(0,d.jsx)(O.B,{buttonText:"DASHBOARD",width:"100%",onClick:this.onDoneClick})})]}):(0,d.jsx)("div",{className:"width100 stkMc5SingleCloseBtn",children:(0,d.jsx)("div",{className:"contentAccent bodyMedium14",children:(0,d.jsx)("span",{className:"stkMc5CloseTxt cur-po",onClick:i,children:"CLOSE"})})})]})}}]),t}($.PureComponent);eA.propTypes={topHeading:B().string,dataArray:B().oneOfType([B().array,B().object]),onCloseBoxClick:B().func},eA.defaultProps={};var e4=eA,eG=t(45211),eB=t(66241),ej=t(99497),eQ=t.n(ej),e2={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/check.cd8f6af5.svg",height:85,width:85},e5={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/placed.8cddc037.svg",height:72,width:72},eF=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{headingSuffix:"Placed",status:"PLACED",isStatusChange:!1,userData:{}});var e,i=(0,a.Z)(e);return(0,s.Z)((0,a.Z)(e),"fetchUserData",(0,ex.Z)(function(){var e,r,t;return(0,eb.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,eB.is)()];case 1:return e=a.sent(),r={},i.setState((r.userData=e,r)),[3,3];case 2:return t=a.sent(),console.error(t),[3,3];case 3:return[2]}})})),(0,s.Z)((0,a.Z)(e),"getPostOrderUserCommunicationsUI",function(){var r=e.state.userData,t=e.props,i=t.orderDetails,a=t.isDdpiAllowed,n=null!=i?i:{},o=n.smartOrderType,s=n.gttOrderId,c=n.buySell===eu.BUY,l="".concat(c?"Sell SL":"Buy SL"," order will be placed after ").concat(c?"buy":"sell"," order executes"),$=a&&r.ddpi_account_status===g.GN.ACCEPTED,u=(0,Q.lE)(i.smartOrderType),p=(0,Q.vE)(o,s)&&!c&&!$,h="",y="";if(p&&(h="Sell orders require tpin verification on the day of trigger",y=eQ().bscs33WarningTag),u&&(h=l,y=eQ().bscs33Tag),h)return(0,d.jsx)(e$.T,{isWarning:!1,tagClass:y,children:h})}),(0,s.Z)((0,a.Z)(e),"getOrderDetailsUI",function(){var r=e.props,t=r.orderDetails,i=r.limit,a=null!=t?t:{},n=a.smartOrderType,o=a.orderStatus,s=a.gttOrderId,c=(0,Q.lE)(n),l=(0,Q.vE)(n,s);return c?e.getSmartOrderDetailsUI():l?e.getGttOrderDetailsUI():(0,d.jsxs)("div",{className:"valign-wrapper ".concat(eQ().bscs33Ver," width100"),children:[e.getOrderDetailsRowUI("Shares",t.qty),[eh.SL_M,eh.SL].includes(t.orderType)&&e.getOrderDetailsRowUI("SL Trigger Price",(0,ec.a)(null==t?void 0:t.triggerPrice,el.m)),o!==g.DF.NEW&&e.getOrderDetailsRowUI(!0===i?"Limit Price":"Price",e.getLimitValueUI(t,i)),e.getOrderDetailsRowUI("Type",t.product===ep.CNC?"Delivery":"Intraday")]})}),(0,s.Z)((0,a.Z)(e),"getSmartOrderDetailsUI",function(){var r=e.props.orderDetails,t=r.qty,i=r.buySell,a=r.orderType,n=r.price,o=r.leg1Dto,s=(0,ec.a)(n,el.m),c=(0,ec.a)(o.triggerPrice,el.m),l=i===eu.BUY,$=a===eh.LIMIT,u="".concat(l?"Buy":"Sell"," price"),p="".concat(l?"Sell":"Buy"," SL at");return(0,d.jsxs)("div",{className:"valign-wrapper width100 ".concat(eQ().bscs33Ver),children:[e.getOrderDetailsRowUI("Shares",t),e.getOrderDetailsRowUI(u,$?s:"At market"),e.getOrderDetailsRowUI(p,c)]})}),(0,s.Z)((0,a.Z)(e),"getGttOrderDetailsUI",function(){var r=e.props.orderDetails,t=r.qty,i=r.triggerPrice,a=(0,ec.a)(i,el.m),n=(0,d.jsxs)("div",{className:"absolute-center",children:[(0,d.jsx)("div",{children:"Trigger price"}),(0,d.jsx)(_.Z,{src:x.Z,alt:"gtt",addClass:"".concat(eQ().bscs33GttIcon," pos-rel")})]});return(0,d.jsxs)("div",{className:"valign-wrapper width100 ".concat(eQ().bscs33Ver),children:[e.getOrderDetailsRowUI("Qty",t),e.getOrderDetailsRowUI(n,a)]})}),(0,s.Z)((0,a.Z)(e),"getOrderDetailsRowUI",function(e,r){return(0,d.jsxs)("div",{className:"".concat(eQ().bscs33OrderDetailsRow," width100 valign-wrapper vspace-between bodyRegular14"),children:[(0,d.jsx)("div",{className:"contentSecondary",children:e}),(0,d.jsx)("div",{className:"contentPrimary",children:r})]})}),(0,s.Z)((0,a.Z)(e),"getLimitValueUI",function(e,r){return!0!==r&&(null==e?void 0:e.avgFillPrice)===0?"Market":!0===r?(0,ec.a)(null==e?void 0:e.price,el.m):(0,ec.a)(null==e?void 0:e.avgFillPrice,el.m)}),(0,s.Z)((0,a.Z)(e),"onOrderDetailClick",function(){var r=e.props,t=r.orderDetails,i=r.history,a=null!=t?t:{},n=a.smartOrderType,o=a.gttOrderId,s=a.growwOrderId,c=a.contractId,l=a.isin;(0,Q.vE)(n,o)?((0,f.L9)(T.Z.GTT,m.Z.OCOrderDetailClick,{source:(0,Q.nK)(),isin:c,gttOrderId:o}),(0,V.ys)(i,W.Z6.USER+W.Z6.VIEW_ORDER+W.Z6.STOCK+W.Z6.SLASH+o+"?orderType="+g.Dc.GTT)):((0,f.L9)(T.Z.Stocks,m.Z.OCOrderDetailClick,{source:(0,Q.nK)(),isin:l,growwOrderId:s}),(0,V.ys)(i,W.Z6.USER+W.Z6.VIEW_ORDER+W.Z6.STOCK+W.Z6.SLASH+s))}),(0,s.Z)((0,a.Z)(e),"onDoneClick",function(){var r=e.props,t=r.orderDetails,i=r.changeScreenCallback,a=null!=t?t:{},n=a.smartOrderType,o=a.gttOrderId,s=a.growwOrderId,c=a.contractId,l=a.isin;(0,Q.vE)(n,o)?(0,f.L9)(T.Z.GTT,m.Z.OCConfirmationClick,{source:(0,Q.nK)(),isin:c,gttOrderId:o}):(0,f.L9)(T.Z.Stocks,m.Z.OCConfirmationClick,{source:(0,Q.nK)(),isin:l,growwOrderId:s}),i(g.Js.BUY_SELL_SCREEN)}),e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.fetchUserData()}},{key:"componentDidUpdate",value:function(e,r){var t=this,i=this.props.finalOrderStatus;e.finalOrderStatus!==i&&(i===g.DF.EXECUTED?setTimeout(function(){t.setState({status:"SUCCESS",headingSuffix:"Successful",isStatusChange:!0})},1e3):[g.DF.REJECTED,g.DF.FAILED,g.DF.CANCELLED].includes(i)&&setTimeout(function(){t.setState({headingSuffix:(0,eG.f)(i),isStatusChange:!0,status:"PENDING"})},1e3))}},{key:"render",value:function(){var e=this.props.orderDetails,r=this.state,t=r.headingSuffix,i=r.status,a=r.isStatusChange,n=null!=e?e:{},o=n.buySell,c=n.smartOrderType,l=n.gttOrderId,$=(0,Q.vE)(c,l),u=o===eu.BUY,h="Successful"!==t?" order":"",g=u?"Buy".concat(h):"Sell".concat(h);$&&(g=u?"GTT buy".concat(h):"GTT sell".concat(h));var y=e2;return"PLACED"===i?y=e5:"PENDING"===i&&(y=K),(0,d.jsxs)("div",{className:"valign-wrapper vspace-between ".concat(eQ().bscs33Main),children:[(0,d.jsxs)("div",{className:"".concat(eQ().bscs33Upper," width100"),children:[(0,d.jsx)("div",{className:"".concat(eQ().bscs33Animation," width100"),children:(0,d.jsx)(_.Z,{addClass:p()([eQ().scroll11FadeIn],(0,s.Z)({},eQ().animName,a&&!1)),width:72,height:72,src:y})}),(0,d.jsx)("div",{className:"".concat(eQ().bscs33Head," contentPrimary display24"),children:(0,d.jsxs)("span",{className:p()([eQ().bscs33Animate],(0,s.Z)({},eQ().bscs33FadeInBottom,a)),children:[g,"\xa0",t.toLowerCase()]})}),(0,d.jsx)("div",{className:eQ().bscs33VerParent,children:this.getOrderDetailsUI()}),(0,d.jsx)("div",{className:"".concat(eQ().bscs33OrderDetailsBtn," contentAccent cur-po bodyMedium14"),onClick:this.onOrderDetailClick,children:"Order details"})]}),(0,d.jsxs)("div",{className:"".concat(eQ().bscs33Lower," width100"),children:[this.getPostOrderUserCommunicationsUI(),(0,d.jsx)(O.B,{buttonText:"Done",width:"100%",onClick:this.onDoneClick})]})]})}}]),t}($.PureComponent);eF.propTypes={changeScreenCallback:B().func.isRequired,orderDetails:B().object,history:B().object,limit:B().bool},eF.defaultProps={};var eY=function(){return(0,F.zB)({finalOrderStatus:(0,Y.Ly)()})},eV=(0,j.qC)((0,A.$j)(eY,{}))((0,U.I)(eF)),eU=t(63951),e3=t.n(eU),e7=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"onOrderDetailClick",function(){(0,V.ys)(e.props.history,W.Z6.USER+W.Z6.VIEW_ORDER+W.Z6.STOCK+W.Z6.SLASH+e.props.orderDetails.growwOrderId)}),(0,s.Z)((0,a.Z)(e),"onTryAgainClick",function(){e.props.changeScreenCallback(g.Js.BUY_SELL_SCREEN)}),e}return(0,o.Z)(t,[{key:"render",value:function(){var e=this.props,r=e.topHeading,t=e.failReason,i=e.dataArray,a=e.orderDetails;return(0,d.jsxs)("div",{className:"valign-wrapper vspace-between ".concat(e3().sof67Main),children:[(0,d.jsxs)("div",{className:"width100",children:[(0,d.jsx)("div",{className:"".concat(e3().sof67Animation," width100"),children:(0,d.jsx)(h.Bf,{width:100,height:100,status:"PENDING",loop:!1,autoplay:!0})}),(0,d.jsxs)("div",{className:e3().sof67TopDiv,children:[(0,d.jsx)("div",{className:"contentPrimary display24",children:r}),(0,d.jsx)("div",{className:"".concat(e3().sof67Para," contentPrimary bodyRegular12"),children:t})]}),(0,d.jsx)("div",{className:"width100 valign-wrapper ".concat(e3().sof67Ver),children:i.map(function(e,r){return(0,d.jsxs)("div",{className:"width100 valign-wrapper vspace-between ".concat(e3().sof67Hor," bodyRegular14"),children:[(0,d.jsx)("div",{className:"contentSecondary",children:e[0]}),(0,d.jsx)("div",{className:"contentPrimary",children:e[1]})]},r)})}),(0,d.jsx)("div",{children:a&&(0,d.jsx)("div",{className:"absolute-center",children:(0,d.jsx)("div",{className:"".concat(e3().sof67BotOrderText," cur-po contentAccent bodyMedium14"),onClick:this.onOrderDetailClick,children:"Order details"})})})]}),(0,d.jsx)("div",{className:"width100",children:(0,d.jsx)(O.B,{buttonText:"TRY AGAIN",width:"100%",onClick:this.onTryAgainClick})})]})}}]),t}($.PureComponent);e7.propTypes={topHeading:B().string,failReason:B().string,dataArray:B().object,changeScreenCallback:B().func,history:B().object},e7.defaultProps={topHeading:"Buy order failed",failReason:"Sorry we were unable to place your request."};var eW=e7,e6=t(97518),eH=t(90818),eq=t(16532),eX=t(79822);t(82169);var eK={BUY_SELL_SCREEN:"BUY",ADD_MONEY_INTERMEDIATE_SCREEN:"ADD_MONEY",BUY_SELL_SUCCESS_SCREEN:"BUY_SUCCESS",LOADING_SCREEN:"LOADING"},ez=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{showLoader:!1,errorType:g.QS.ERROR,errorMessage:"",showError:!1,showEnterPinText:!1,pin:"",clearOtp:!1,dematAccountNumber:""}),(0,s.Z)((0,a.Z)(e),"getDemat",function(){(0,eo.Ii)().then(function(r){r.data&&r.data.data&&e.setState({dematAccountNumber:r.data.data.message})}).catch(function(e){})}),(0,s.Z)((0,a.Z)(e),"onClose",function(){e.props.changeScreenCallback(eK.BUY_SELL_SCREEN)}),(0,s.Z)((0,a.Z)(e),"onForgotPin",function(){(0,f.L9)(eX.Z.Stocks,er.Z.OCForgotPin),e.props.onForgotPin()}),(0,s.Z)((0,a.Z)(e),"handleEnterPress",function(r){13===r.keyCode&&e.onConfirmClick()}),(0,s.Z)((0,a.Z)(e),"onOtpEntered",function(r){e.setState({pin:r})}),(0,s.Z)((0,a.Z)(e),"onConfirmClick",function(){if(!e.state.showLoader){e.setState({showLoader:!0,showError:!1,errorMessage:""});var r={passCode:e.state.pin};(0,eo.Ot)(r).then(function(r){e.setState({showLoader:!1,clearOtp:!e.state.clearOtp}),r.data.data.isSuccess?((0,f.L9)(eX.Z.Stocks,er.Z.OCPinPassed),e.setState({errorMessage:""}),e.props.onPinChangeCallback&&r.data&&r.data.data&&e.props.onPinChangeCallback(r.data.data.sessionId)):((0,f.L9)(eX.Z.TwoFa,er.Z.ValidatePINFailed),e.setState({errorMessage:"Incorrect PIN. Please try again.",showError:!0}))}).catch(function(r){(0,f.L9)(eX.Z.TwoFa,er.Z.ValidatePINFailed),console.error("Error in validating PIN: ",r),500>(0,es.f)(r,"response.status",500)?e.setState({showError:!0,showLoader:!1,clearOtp:!e.state.clearOtp,errorMessage:(0,es.f)(r,"response.data.errorMessage.message","Something went wrong. Please try again later")}):e.setState({errorMessage:"Something went wrong. Please try again later",showError:!0,showLoader:!1,clearOtp:!e.state.clearOtp})})}}),(0,s.Z)((0,a.Z)(e),"onPinChange",function(r){e.setState({pin:r,showError:!1})}),e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.getDemat(),window.addEventListener("keydown",this.handleEnterPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEnterPress)}},{key:"render",value:function(){var e=this.props.shareQty,r=this.state,t=r.showError,i=r.errorType,a=r.errorMessage,n=r.dematAccountNumber;return(0,d.jsxs)("div",{className:"stkSsp1Wrapper",children:[(0,d.jsx)(e6.L,{show:this.state.showLoader}),(0,d.jsx)(eH.Z,{className:"stkSsp1Close",onClick:this.onClose}),(0,d.jsxs)("div",{className:"stkSsp1btn",children:[t?(0,d.jsx)("div",{className:"valign-wrapper stkOcm6Wrapper",children:(0,d.jsx)("div",{className:"absolute-center stkOcm6NorTextBot ".concat(i===g.QS.ERROR?"error":"warning"),children:a})}):null,(0,d.jsx)(O.B,{buttonText:"CONFIRM SELL",width:"100%",isDisabled:!1,onClick:this.onConfirmClick,buttonType:"Secondary"}),(0,d.jsx)("div",{className:"stkSsp1Forgot",onClick:this.onForgotPin,children:"Forgot Groww PIN?"})]}),(0,d.jsx)("div",{className:"stkSsp1HeadDiv",children:(0,d.jsx)("div",{className:"stkSsp1Heading valign-wrapper",children:"Enter Groww PIN"})}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"stkSsp1MidPara",children:["Authorise Groww(NextBillion Technology Pvt. Ltd.) to debit ",e>1?"".concat(e," shares"):"".concat(e," share")," from your demat  a/c no. ",n,"."]})}),(0,d.jsx)("div",{className:"stkSsp1Mtsd",children:(0,d.jsx)(eq.Z,{_target:g.cG.DESKTOP,autofocus:!0,clearOtp:this.state.clearOtp,completeOtpEntered:this.onOtpEntered,size:4,confidential:!0},"stkSellPin")})]})}}]),t}($.PureComponent);ez.propTypes={onPinChangeCallback:B().func.isRequired,shareQty:B().number,changeScreenCallback:B().func.isRequired},ez.defaultProps={};var eJ=ez,e9=JSON.parse('{"v":"4.6.3","fr":29.9700012207031,"ip":0,"op":35.0000014255792,"w":400,"h":400,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[200,205,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[77.411,77.411,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[288.949,288.949]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[-2.959]},"o":{"x":[0.333],"y":[0]},"n":["0p667_-2p959_0p333_0"],"t":0,"s":[6],"e":[7.98]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0.226]},"n":["0p667_1_0p333_0p226"],"t":4,"s":[7.98],"e":[34]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":7,"s":[34],"e":[54]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":12,"s":[54],"e":[100]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":19,"s":[100],"e":[100]},{"t":35.0000014255792}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[0],"e":[47]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":24,"s":[47],"e":[92]},{"t":35.0000014255792}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[-70],"e":[46]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":7,"s":[46],"e":[115]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":12,"s":[115],"e":[144]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":19,"s":[144],"e":[173]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":24,"s":[173],"e":[309]},{"t":35.0000014255792}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"},{"ty":"st","c":{"a":0,"k":[0,0.8156862745098039,0.611764705882353,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":14},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[2.549,-5.717],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[108.139,108.139],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"big_circle","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group"},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[288.949,288.949]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":1,"s":[0],"e":[22.284]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":15,"s":[22.284],"e":[84]},{"t":35.0000014255792}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":0,"s":[13],"e":[100]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":15,"s":[100],"e":[100]},{"i":{"x":[0.667],"y":[0.667]},"o":{"x":[0.333],"y":[0.333]},"n":["0p667_0p667_0p333_0p333"],"t":29,"s":[100],"e":[100]},{"t":35.0000014255792}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"n":["0p833_0p833_0p333_0"],"t":1,"s":[-22],"e":[11]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":33,"s":[11],"e":[22]},{"t":35.0000014255792}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"},{"ty":"st","c":{"a":0,"k":[0,0.8156862745098039,0.611764705882353,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":19},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"tr","p":{"a":0,"k":[2.549,-5.717],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[72.226,72.226],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"small_circle","np":4,"cix":2,"ix":2,"mn":"ADBE Vector Group"}],"ip":0,"op":900.000036657751,"st":0,"bm":0,"sr":1}]}');t(1508);var re=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,o.Z)(t,[{key:"render",value:function(){return(0,d.jsxs)("div",{className:"slu867MainDiv width100 pos-abs absolute-center",children:[(0,d.jsx)("div",{className:"slu867LottieParent",children:(0,d.jsx)(h.Bf,{width:200,height:200,animation:e9,loop:!0,autoplay:!0})}),(0,d.jsx)("div",{className:"slu867BelowText center-align contentPrimary bodyMedium16",children:this.props.belowText})]})}}]),t}($.PureComponent);re.propTypes={belowText:B().string},re.defaultProps={belowText:"Placing order"};var rr=re;t(82938);var rt=t(63223),ri={1:{title:"Stop Loss - Sell Order",image:{src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/stopLossSell.8bc68118.svg",height:97,width:217},queries:[{question:"What is Stop Loss order?",answer:"This order gets placed on exchange only when the trigger price is hit in market. Once triggered, it acts like a regular market/limit order. (Valid till day end)"},{question:"What is the difference between Limit & Stop Loss?",answer:"Limit order is placed immediately in the market. SL is placed when the trigger price is hit. If the sell order price is less than market price it will execute immediately after getting triggered."}]},2:{title:"Stop Loss - Buy Order",image:{src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/stopLoss.fe3b25ab.svg",height:97,width:217},queries:[{question:"What is Stop Loss order?",answer:"This order gets placed on exchange only when the trigger price is hit in market. Once triggered, it acts like a regular market/limit order. (Valid till day end)"},{question:"What is the difference between Limit & Stop Loss?",answer:"Limit order is placed immediately in the market. SL is placed when the trigger price is hit. If the buy order price is more than market price it will execute immediately after getting triggered."}]}},ra=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;return(0,n.Z)(this,t),e=r.apply(this,arguments),(0,s.Z)((0,a.Z)(e),"state",{isOpen:{0:!0,1:!1}}),(0,s.Z)((0,a.Z)(e),"onToggle",function(r,t){var i=(0,eN.Z)({},e.state.isOpen);i[t]=r,e.setState({isOpen:i})}),e}return(0,o.Z)(t,[{key:"render",value:function(){var e=this,r=this.props,t=r.onGoBack,i=r.id,a=this.state.isOpen,n=ri[i];return(0,d.jsxs)("div",{id:"stopLossInfo",children:[(0,d.jsx)("div",{className:"sl31Head pos-rel valign-wrapper",children:(0,d.jsxs)("div",{className:"contentPrimary valign-wrapper bodyMedium18",children:[(0,d.jsx)(v.Z,{size:24,onClick:t,style:{marginRight:"16px",marginLeft:"-4px"},className:"cur-po rippleCustom"})," ",n.title]})}),(0,d.jsx)("div",{className:"sl31InfoImg",children:(0,d.jsx)(_.Z,{width:215,height:97,src:n.image,alt:"stop loss info"})}),(0,d.jsx)("div",{className:"sl31Line sl31LineBorder",children:(0,d.jsx)(rt.A,{title:(0,d.jsx)("div",{className:"contentPrimary bodyMedium12",children:n.queries[0].question}),onMountOpen:a[0],onToggleCallback:function(r){return e.onToggle(r,0)},children:(0,d.jsx)("div",{className:"contentPrimary left-align sl31AnswerPara bodyRegular12",children:n.queries[0].answer})})}),(0,d.jsx)("div",{className:p()("sl31Line",{sl31LineBorder:!(a[0]&&a[1])}),children:(0,d.jsx)(rt.A,{title:(0,d.jsx)("div",{className:"contentPrimary bodyMedium12",children:n.queries[1].question}),onMountOpen:a[1],onToggleCallback:function(r){return e.onToggle(r,1)},children:(0,d.jsx)("div",{className:"contentPrimary left-align sl31AnswerPara bodyRegular12",children:n.queries[1].answer})})})]})}}]),t}($.PureComponent),rn=t(81154),ro=t.n(rn),rs=function(e){var r=e||{},t=r.surveillanceAlertInfo,i=r.onCardBuyClick,a=r.onGoBack,n=r.buyCtaLoader,o=r.nseScripCode,s=t||{},c=s.header,l=s.description,$=s.action,u=function(){a(),(0,f.L9)(T.Z.Stocks,m.Z.SurvIndClickCancel,{scriptName:o,action:$,description:l})};return(0,d.jsxs)("div",{className:ro().surv64Main,children:[(0,d.jsxs)("div",{className:"valign-wrapper  bodyMedium18"+ro().surv64Header,children:[(0,d.jsx)(v.Z,{size:24,className:"cur-po "+ro().surv64ArrowIcon,onClick:u}),c]}),(0,d.jsxs)("div",{className:"vspace-between "+ro().surv64Body,children:[(0,d.jsx)("div",{className:"left-align contentPrimary  bodyRegular14",children:l}),(0,d.jsxs)("div",{className:"width100",children:[(0,d.jsx)(O.B,{buttonText:"BUY",width:"100%",onClick:function(){(0,f.L9)(T.Z.Stocks,m.Z.SurvIndClickSecondaryBuy,{scriptName:o,action:$,description:l}),i()},buttonType:"Primary",showLoader:n,loadingText:""}),(0,d.jsx)("div",{className:"contentAccent cur-po  bodyMedium14"+ro().surv64CancelBtn,onClick:u,children:"Cancel"})]})]})]})},rc=t(39582),rl=function e(r,t){var i=this;(0,n.Z)(this,e),(0,s.Z)(this,"setState",function(e){return i.state=e}),(0,s.Z)(this,"getState",function(){return i.state}),(0,s.Z)(this,"setProps",function(e){return i.props=e}),(0,s.Z)(this,"getProps",function(){return i.props}),(0,s.Z)(this,"getMessage",function(){return i.message}),(0,s.Z)(this,"setMessage",function(e){return i.message=e}),(0,s.Z)(this,"getMsgType",function(){return i.msgType}),(0,s.Z)(this,"setMsgType",function(e){return i.msgType=e}),(0,s.Z)(this,"getMsgPosition",function(){return i.msgPosition}),(0,s.Z)(this,"setMsgPosition",function(e){return i.msgPosition=e}),(0,s.Z)(this,"getIsAmtNotEnough",function(){return i.isAmtNotEnough}),(0,s.Z)(this,"setIsAmtNotEnough",function(e){return i.isAmtNotEnough=e}),(0,s.Z)(this,"setWhy",function(e){return i.isWhy=e}),(0,s.Z)(this,"getWhy",function(){return i.isWhy}),(0,s.Z)(this,"setWhyUI",function(e){return i.whyUI=e}),(0,s.Z)(this,"getWhyUI",function(){return i.whyUI}),(0,s.Z)(this,"setMinTradableQty",function(e){return i.minTradableQty=e}),(0,s.Z)(this,"getMinTradableQty",function(){return i.minTradableQty}),(0,s.Z)(this,"setErrorMsg",function(e,r){i.msgType=g.pp.ERROR,i.message=e,i.msgPosition=r}),(0,s.Z)(this,"setWarningMsg",function(e,r){i.msgType=g.pp.WARNING,i.message=e,i.msgPosition=r}),(0,s.Z)(this,"setInfoMsg",function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i.msgType=g.pp.INFO,i.message=e,i.msgPosition=r}),(0,s.Z)(this,"setAddMoneyMsg",function(e,r){i.isAmtNotEnough=!0,i.msgType=g.pp.WARNING,i.message=e,i.msgPosition=r}),(0,s.Z)(this,"setAddMoneyWithQty",function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i.isAmtNotEnough=!0,i.msgType=g.pp.WARNING,i.message=e,i.msgPosition=r,i.minTradableQty=t}),(0,s.Z)(this,"setFramework",function(e){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];i.isWhy=r,i.whyUI=e}),(0,s.Z)(this,"getFramework",function(){return{isWhy:i.isWhy,whyUI:i.whyUI}}),(0,s.Z)(this,"clearMsg",function(){i.message="",i.msgPosition="",i.msgType="",i.isAmtNotEnough=!1,i.isWhy=!1,i.whyUI="",i.minTradableQty=0}),(0,s.Z)(this,"getValidation",function(){return{message:i.message,msgType:i.msgType,msgPosition:i.msgPosition,isAmtNotEnough:i.isAmtNotEnough,minTradableQty:i.minTradableQty}}),(0,s.Z)(this,"formatNumber",function(e){return(0,ec.a)(e,el.h)}),this.props=r,this.state=t},rd=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(e,i){var o;return(0,n.Z)(this,t),o=r.call(this,e,i),(0,s.Z)((0,a.Z)(o),"start",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},r=o.state,t=r.isSmartOrder,i=r.isGttOrder;o.clearMsg();var a=[o.checkStockBlockedError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleTriggerPriceError,o.checkIsNotValidLimitPriceError,o.checkIsNotValidAvailableBalanceWarning,o.handleTriggerPriceWarning,o.checkIsNotValidLimitPriceWarning,o.checkIfIntradayOpenOrderPending,o.handlePledgeShareSellWarning],n=[o.checkStockBlockedError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleSmartOrderTriggerPriceError,o.checkIsNotValidLimitPriceError,o.checkIsNotValidAvailableBalanceWarning,o.handleSmartOrderTriggerPriceWarning,o.checkIsNotValidLimitPriceWarning,o.checkIfIntradayOpenOrderPending,o.setSmartOrderInfoMsgText],s=[o.checkStockBlockedError,o.checkIsNotValidQtyError,o.checkGttTriggerPriceError,o.checkIsNotValidLimitPriceError,o.setGttOrderInfoMsgText],c=a;t?c=n:i&&(c=s),c.every(function(e){return e(),!o.message}),e(o.orderValidationHolder())}),(0,s.Z)((0,a.Z)(o),"isOrderTypeMarket",function(){var e;return(null===(e=o.state.orderDetails)||void 0===e?void 0:e.orderType)===eh.MARKET}),(0,s.Z)((0,a.Z)(o),"isOrderTypeLimit",function(){var e;return(null===(e=o.state.orderDetails)||void 0===e?void 0:e.orderType)===eh.LIMIT}),(0,s.Z)((0,a.Z)(o),"setGttOrderInfoMsgText",function(){var e=o.state,r=e.triggerPrice,t=e.limitPrice,i="";if(r){var a=o.formatNumber(t),n=o.formatNumber(r),s="When ".concat(n," is hit, limit order of ").concat(a," will be placed"),c="When ".concat(n," is hit, market order will be placed");o.isOrderTypeLimit()&&t?i=s:o.isOrderTypeMarket()&&(i=c)}else i=y.Pm.GTT_ONE_YEAR;o.setInfoMsg(i,g.oo.TAG)}),(0,s.Z)((0,a.Z)(o),"setSmartOrderInfoMsgText",function(){var e=o.state.orderDetails,r=(null!=e?e:{}).buySell===eu.BUY,t="After ".concat(r?"buy":"sell"," order executes, ").concat(r?"sell":"buy"," SL order will be placed");o.setInfoMsg(t,g.oo.TAG)}),(0,s.Z)((0,a.Z)(o),"calculateCanBuyQty",function(){var e,r=o.props,t=r.misWalletBalance,i=r.cncWalletBalance,a=r.orderDetails,n=o.state.shareQty;if((null==a?void 0:a.product)!==ep.MIS)return Math.floor(i/o.getEstimatedCost(1))+(null==a?void 0:a.qty);return Math.floor(Math.max(0,Number(n)-o.getCurrentHoldQty(n))+t/o.getIntradayMargin(1)+(null==a?void 0:a.qty))}),(0,s.Z)((0,a.Z)(o),"getCurrentHoldQty",function(e){var r=o.props,t=r.priceRangeObject,i=r.orderDetails,a=t.openSellQty,n=t.openBuyQty,s=t.netPosition;e=Number(e);var c=0,l=Math.max(Math.abs(s+n),Math.abs(s-a));return c=i&&(null==i?void 0:i.buySell)===eu.BUY?Math.max(0,Math.max(Math.abs(s+n+e),Math.abs(s-a+e))-l):Math.max(0,Math.max(Math.abs(s+n-e),Math.abs(s-a-e))-l)}),(0,s.Z)((0,a.Z)(o),"getIntradayMargin",function(e){var r,t=o.state.limitPrice,i=o.props,a=i.fifthLevelSellDepthPrice,n=i.livePrice,s=i.isMarketOpen,c=i.priceRangeObject,l=i.orderDetails,d=i.remoteConfig,$=c.intradayPriceFactor,u=null!==(r=null==d?void 0:d.misPercentage)&&void 0!==r?r:ev.MIS;return(null==l?void 0:l.orderType)!==eh.MARKET?e*t*($/100+u):s?e*a*($/100+u):e*n*($/100+u)}),(0,s.Z)((0,a.Z)(o),"getEstimatedCost",function(e){var r,t=o.state,i=t.limitPrice,a=t.triggerPrice,n=o.props,s=n.orderDetails,c=n.livePrice,l=n.remoteConfig,d=null!==(r=null==l?void 0:l.cncPercentage)&&void 0!==r?r:ev.CNC;if(e<=0)return 0;if((null==s?void 0:s.product)===ep.CNC)return(null==s?void 0:s.orderType)===eh.LIMIT?parseFloat(i*e*(1+d)).toFixed(2):(null==s?void 0:s.orderType)===eh.SL_M?parseFloat(a*e*(1+d)).toFixed(2):parseFloat(c*e*(1+d)).toFixed(2);var $=o.getCurrentHoldQty(e);return o.getIntradayMargin($)}),(0,s.Z)((0,a.Z)(o),"checkStockBlockedError",function(){var e=o.props,r=e.edisAuthState,t=e.edisAuthRemark;if(r===rc.P.FAILED&&t&&""!==t){o.setErrorMsg("CDSL Status: "+t,g.oo.TAG);return}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidQtyError",function(){var e,r=o.props,t=r.availableShares,i=r.priceRangeObject,a=r.orderDetails,n=r.isMarketOpen,s=r.livePrice,c=r.fifthLevelSellDepthPrice,l=r.fifthLevelBuyDepthPrice,d=r.remoteConfig,$=o.state,u=$.shareQty,p=$.isGttOrder,h=$.isSmartOrder,y=$.limitPrice,m=$.triggerPrice,T=t+(null==a?void 0:a.qty),f=a&&u>T&&(null==a?void 0:a.buySell)===eu.SELL&&(null==a?void 0:a.product)===ep.CNC,v=t-i.pledgedHoldings;if(p&&a&&u>v&&(null==a?void 0:a.buySell)===eu.SELL&&(null==a?void 0:a.product)===ep.CNC){var S=v===i.totalHoldings?v:"".concat(v," / ").concat(i.totalHoldings),E="".concat(1!==v?S+" shares are available to sell":"1 share is available to sell");o.setErrorMsg(E,g.oo.QTY),v!==i.totalHoldings&&o.setFramework(ef.AVAILABLE_TO_SELL);return}if(f){var I=T===i.totalHoldings?T:"".concat(T," / ").concat(i.totalHoldings),O="".concat(1!==T?I+" shares are available to sell":"1 share is available to sell");o.setErrorMsg(O,g.oo.QTY),T!==i.totalHoldings&&o.setFramework(ef.AVAILABLE_TO_SELL);return}var _=(null==a?void 0:a.buySell)===eu.BUY,R=null==a?void 0:null===(e=a.orderType)||void 0===e?void 0:e.includes(eh.SL),k=eS.fromBuySell(_).withLivePrice(s).duringMarketOpen(n).withFifthLevelDepthPrice(c,l).buildLtpToConsider(null==d?void 0:d.amoMarketProtection).getPrice(),x=eS.fromOrderType(R,p,h,o.isOrderTypeMarket()).withFifthLevelDepthPrice(k).withLimitPrice(y).withTriggerPrice(m).buildPrice(),N=(null==a?void 0:a.product)===ep.MIS,C=x.withProduct(N?"Intraday":"Delivery").withPriceRangeObj(i).buildMaxQty(null==d?void 0:d.misPercentage,null==d?void 0:d.cncPercentage).getQty();if(Number(u)>=C&&C>=1){var b="Enter qty <".concat((0,ec.a)(C,el.i)," as order value can't exceed 20L");(_||N)&&C===i.defaultMaxBuyQty?b="Quantity should be less than ".concat((0,ec.a)(C,el.i)):_||N?b="Enter qty <".concat((0,ec.a)(C,el.i)," as order value can't exceed 20L"):_||N||(b="You can only sell ".concat((0,ec.a)(C,el.i)," qty at once")),o.setErrorMsg(b,g.oo.QTY);return}if(u){if(u<i.minBuyQty&&a.buySell===eu.BUY){o.setErrorMsg("Minimum qty you can buy is ".concat(i.minBuyQty),g.oo.QTY);return}if(u<i.minSellQty&&a.buySell===eu.SELL){o.setErrorMsg("Minimum qty you can sell is ".concat(i.minSellQty),g.oo.QTY);return}if(u%i.qtyMultiplier!=0){o.setErrorMsg("Qty should be in multiple of ".concat(i.qtyMultiplier),g.oo.QTY);return}}}),(0,s.Z)((0,a.Z)(o),"handleTriggerPriceError",function(){var e,r,t=o.props.livePrice,i=o.state,a=i.limitPrice,n=i.orderDetails,s=i.triggerPrice,c=(null==n?void 0:n.orderType)===eh.SL_M,l=Number(t);if((null==n?void 0:n.buySell)===eu.BUY&&(null==n?void 0:null===(e=n.orderType)||void 0===e?void 0:e.includes(eh.SL))){if(l&&Number(s)<Number(t)){o.setErrorMsg("Trigger price should be greater than market price",g.oo.TRIGGER_QTY);return}if(!c&&Number(a)<Number(s)){o.setErrorMsg("Limit price should be greater than trigger price",g.oo.TRIGGER_QTY);return}}else if((null==n?void 0:n.buySell)===eu.SELL&&(null==n?void 0:null===(r=n.orderType)||void 0===r?void 0:r.includes(eh.SL))){if(l&&Number(s)>Number(t)){o.setErrorMsg("Trigger price should be lesser than market price",g.oo.TRIGGER_QTY);return}if(!c&&Number(a)>Number(s)){o.setErrorMsg("Limit price should be lesser than trigger price",g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"checkIfTriggerPriceTooClose",function(e,r){var t,i=o.props,a=i.livePrice,n=i.priceRangeObject,s=o.state,c=s.limitPrice,l=s.triggerPrice,d=s.orderDetails.buySell===eu.BUY,$=Number(n.priceMultiplier)/100,u=!1;return o.isOrderTypeMarket()&&d&&Number(a)>50&&(t=(0,ec.n)(Number(a)*(1-e),$)),o.isOrderTypeMarket()&&!d&&Number(a)>50&&(t=(0,ec.n)(Number(a)*(1+e),$)),o.isOrderTypeMarket()&&d&&50>=Number(a)&&(t=Number(a)-r),o.isOrderTypeMarket()&&!d&&50>=Number(a)&&(t=Number(a)+r),o.isOrderTypeLimit()&&d&&Number(a)>50&&(t=(0,ec.n)(Number(c)*(1-e),$)),o.isOrderTypeLimit()&&!d&&Number(a)>50&&(t=(0,ec.n)(Number(c)*(1+e),$)),o.isOrderTypeLimit()&&d&&50>=Number(a)&&(t=Number(c)-r),o.isOrderTypeLimit()&&!d&&50>=Number(a)&&(t=Number(c)+r),t&&d&&Number(l)>=Number(t.toFixed(2))&&(u=!0),t&&!d&&Number(l)<=Number(t.toFixed(2))&&(u=!0),{isTriggerPriceTooClose:u,formattedTargetPrice:o.formatNumber(t)}}),(0,s.Z)((0,a.Z)(o),"checkIfGttTriggerPriceTooClose",function(e,r){var t,i,a=o.props,n=a.livePrice,s=a.priceRangeObject,c=o.state.triggerPrice,l=Number(s.priceMultiplier)/100,d=!1;return 50>=Number(n)&&(t=Number(n)-r,i=Number(n)+r),Number(n)>50&&(t=(0,ec.n)(Number(n)*(1-e),l),i=(0,ec.n)(Number(n)*(1+e),l)),{isTriggerPriceTooClose:Number(c)<=Number(n)&&Number(c)>=Number(t.toFixed(2))||Number(c)>=Number(n)&&Number(c)<=Number(i.toFixed(2)),formattedLowerTriggerPrice:o.formatNumber(t),formattedUpperTriggerPrice:o.formatNumber(i)}}),(0,s.Z)((0,a.Z)(o),"handleSmartOrderTriggerPriceError",function(){var e=o.props.livePrice,r=o.state,t=r.limitPrice,i=r.triggerPrice,a=r.orderDetails.buySell,n=Number(e),s=a===eu.BUY,c=o.formatNumber(t),l=o.checkIfTriggerPriceTooClose(.0025,.1),d=l.formattedTargetPrice,$=l.isTriggerPriceTooClose;if(o.isOrderTypeMarket()&&n){if(s&&Number(i)>Number(e)){o.setErrorMsg("SL price should be lesser than market price",g.oo.TRIGGER_QTY);return}if(!s&&Number(i)<Number(e)){o.setErrorMsg("SL price should be greater than market price",g.oo.TRIGGER_QTY);return}if(s&&$){var u="SL price too close to last price. Enter < ".concat(d);o.setErrorMsg(u,g.oo.TRIGGER_QTY);return}if(!s&&$){var p="SL price too close to last price. Enter > ".concat(d);o.setErrorMsg(p,g.oo.TRIGGER_QTY);return}}else if(o.isOrderTypeLimit()&&Number(t)){if(s&&Number(i)>Number(t)){var h="SL price should be lesser than ".concat(c);o.setErrorMsg(h,g.oo.TRIGGER_QTY);return}if(!s&&Number(i)<Number(t)){var y="SL price should be greater than ".concat(c);o.setErrorMsg(y,g.oo.TRIGGER_QTY);return}if(s&&$&&n){var m="SL price too close to limit price. Enter < ".concat(d);o.setErrorMsg(m,g.oo.TRIGGER_QTY);return}if(!s&&$&&n){var T="SL price too close to limit price. Enter > ".concat(d);o.setErrorMsg(T,g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"validateSquareOffModeError",function(){var e=o.props,r=e.priceRangeObject;if(!e.remoteConfig.isSquareOffModeDisabled&&r.misMode===g.kh.SQUAREOFF){o.setErrorMsg("Modification disabled. You can cancel and try again.",g.oo.TAG),o.setFramework(ef.NO_MODIFY);return}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidLimitPrice",function(){var e=o.props,r=e.dailyPriceRange,t=e.isMarketOpen,i=o.state,a=i.limitPrice,n=i.orderDetails;if(!(Number(r.lpr)&&Number(r.upr)))return{};var s=((null==n?void 0:n.orderType)===eh.SL||(null==n?void 0:n.orderType)===eh.LIMIT)&&(r.lpr>Number(a)||r.upr<Number(a));return t&&s?{msgText:"Price should be between ".concat(o.formatNumber(r.lpr)," and ").concat(o.formatNumber(r.upr)),msgPosition:g.oo.LIMIT}:{}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidLimitPriceError",function(){var e=o.props.isFnoListedStock,r=o.state,t=r.limitPrice,i=r.isGttOrder,a=r.orderDetails;if((o.isOrderTypeLimit()||(null==a?void 0:a.orderType)===eh.SL)&&!(0,es.a)(t)&&0===Number(t))o.setErrorMsg("Limit Price should be greater than 0",g.oo.LIMIT);else if(!e&&!i){var n=o.checkIsNotValidLimitPrice(),s=n.msgText,c=n.msgPosition;s&&o.setErrorMsg(s,c)}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidAvailableBalanceWarning",function(){var e=o.props,r=e.misWalletBalance,t=e.cncWalletBalance,i=e.orderDetails,a=o.state.shareQty,n=o.getEstimatedCost(a-(null==i?void 0:i.qty)),s=n&&n>parseFloat(t)&&(null==i?void 0:i.buySell)===eu.BUY&&(null==i?void 0:i.product)===ep.CNC,c=n&&n>parseFloat(r)&&(null==i?void 0:i.buySell)===eu.BUY&&(null==i?void 0:i.product)===ep.MIS,l=n&&n>parseFloat(r)&&(null==i?void 0:i.buySell)===eu.SELL&&(null==i?void 0:i.product)===ep.MIS;if(s||c){var d=o.calculateCanBuyQty(),$="Available amount is ".concat(d>0?"enough for "+d+" shares":"not enough");o.setAddMoneyWithQty($,g.oo.QTY,d);return}if(l){var u=o.calculateCanBuyQty(),p="Available amount is ".concat(u>0?"enough for "+u+" shares":"not enough");o.setAddMoneyWithQty(p,g.oo.QTY,u);return}}),(0,s.Z)((0,a.Z)(o),"checkGttTriggerPriceError",function(){var e,r=o.props,t=r.livePrice,i=r.remoteConfig,a=o.state.triggerPrice;if(!(0,es.a)(a)&&0===Number(a)){o.setErrorMsg("Trigger price should be greater than 0",g.oo.TRIGGER_QTY);return}if(Number(t)){var n=null!==(e=null==i?void 0:i.gttTriggerPriceBuffers)&&void 0!==e?e:{BUFFER_LIMIT_FACTOR:.0025,BUFFER_LIMIT_VAL:.2},s=n.BUFFER_LIMIT_FACTOR,c=n.BUFFER_LIMIT_VAL,l=o.checkIfGttTriggerPriceTooClose(s,c),d=l.formattedLowerTriggerPrice,$=l.formattedUpperTriggerPrice;if(l.isTriggerPriceTooClose){var u="Trigger price too close to ltp. Enter < ".concat(d," or > ").concat($," ");o.setErrorMsg(u,g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"checkIfIntradayOpenOrderPending",function(){var e=o.props.priceRangeObject,r=o.state,t=r.shareQty,i=r.orderDetails,a=null!=i?i:{},n=a.qty,s=a.filledQty,c=a.product,l=a.buySell===eu.BUY;if(c===ep.MIS){var d=null!=e?e:{},$=d.openBuyQty,u=d.openSellQty,p=d.netPosition,h="",y=n-s,m=(0,ec.a)(t,el.e),T=Math.abs(p);l&&p<0&&$-y>0&&$-y+m>T&&(h="Open buy order present for ".concat($-y," qty")),!l&&p>0&&u-y>0&&u-y+m>T&&(h="Open sell order present for ".concat(u-y," qty")),h&&o.setWarningMsg(h,g.oo.TAG)}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidLimitPriceWarning",function(){if(o.props.isFnoListedStock){var e=o.checkIsNotValidLimitPrice(),r=e.msgText,t=e.msgPosition;r&&o.setWarningMsg(r,t)}}),(0,s.Z)((0,a.Z)(o),"handlePledgeShareSellWarning",function(){var e=o.props.priceRangeObject,r=o.state,t=r.shareQty,i=r.orderDetails,a=e.pledgedHoldings,n=e.maxSellQty,s={buySell:eu.BUY,filledQty:0,product:g.iX.PRODUCT.CNC},c=null!=i?i:s,l=c.buySell,d=c.filledQty,$=c.product,u=t-(c.qty-d)-(n-a),p=$===ep.MIS;if(t>0&&u>0&&a>0&&l===eu.SELL&&!p){var h="".concat(u," out of ").concat(t-d," Qty. will be unpledged and sold");o.setWarningMsg(h,g.oo.QTY),o.setFramework(ef.PLEDGE_SHARE_SELL)}}),(0,s.Z)((0,a.Z)(o),"handleTriggerPriceWarning",function(){var e=o.props,r=e.livePrice,t=e.dailyPriceRange,i=o.state,a=i.orderDetails,n=i.triggerPrice,s=Number(r),c=Number(t.lpr)&&Number(t.upr);if(s&&c){var l=(null==a?void 0:a.orderType.includes(eh.SL))&&Number(n)&&(null==a?void 0:a.buySell)===eu.BUY&&(Number(r)>Number(n)||t.upr<Number(n)),d=(null==a?void 0:a.orderType.includes(eh.SL))&&Number(n)&&(null==a?void 0:a.buySell)===eu.SELL&&(t.lpr>Number(n)||Number(r)<Number(n));if(l){var $="Trigger price should be between ".concat(o.formatNumber(r)," and ").concat(o.formatNumber(t.upr));o.setWarningMsg($,g.oo.TRIGGER_QTY);return}if(d){var u="Trigger price should be between ".concat(o.formatNumber(t.lpr)," and ").concat(o.formatNumber(r));o.setWarningMsg(u,g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"handleSmartOrderTriggerPriceWarning",function(){var e=o.props.dailyPriceRange,r=o.state.triggerPrice;if(Number(e.lpr)&&Number(e.upr)&&(Number(r)>e.upr||Number(r)<e.lpr)){var t="Trigger price should be between ".concat(o.formatNumber(e.lpr)," and ").concat(o.formatNumber(e.upr));o.setWarningMsg(t,g.oo.TRIGGER_QTY);return}}),(0,s.Z)((0,a.Z)(o),"preOrderValidation",function(){var e=o.state,r=e.shareQty,t=e.limitPrice,i=e.triggerPrice,a=e.isSmartOrder,n=e.isGttOrder,s=o.props,c=s.orderDetails,l=s.priceRangeObject,d=s.dailyPriceRange,$=s.remoteConfig,u=s.isMarketOpen,p=$.isSquareOffModeDisabled,h=RegExp("^[0-9]*.{0,1}[0-9]{0,2}$");o.clearMsg();var m=[o.checkStockBlockedError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleTriggerPriceError,o.checkIsNotValidLimitPriceError],T=[o.checkStockBlockedError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleSmartOrderTriggerPriceError,o.checkIsNotValidLimitPriceError],f=[o.checkStockBlockedError,o.checkIsNotValidQtyError,o.checkGttTriggerPriceError,o.checkIsNotValidLimitPriceError],v=m;return a?v=T:n&&(v=f),v.every(function(e){return e(),!o.message||o.msgType!==g.pp.ERROR}),o.message&&o.msgType===g.pp.ERROR||(n||(null==c?void 0:c.orderStatus)!==g.DF.NEW&&(null==c?void 0:c.orderStatus)!==g.DF.MODIFICATION_REQUESTED?parseInt(r)<l.minBuyQty&&(null==c?void 0:c.buySell)===eu.BUY?o.setErrorMsg("Minimum share you can buy is ".concat(l.minBuyQty),g.oo.QTY):r?parseInt(r)%l.qtyMultiplier!=0?o.setErrorMsg("Share should be in multiple of ".concat(l.qtyMultiplier),g.oo.QTY):parseInt(r)<l.minSellQty&&(null==c?void 0:c.buySell)===eu.SELL?o.setErrorMsg("Minimum share you can sell is ".concat(l.minSellQty),g.oo.QTY):n&&o.isOrderTypeLimit()&&!t?o.setErrorMsg("All inputs are required",g.oo.LIMIT):h.test(t)||(null==c?void 0:c.orderType)!==eh.LIMIT?parseInt((100*t).toFixed())%l.priceMultiplier!=0?o.setErrorMsg("Limit price should be in multiple of ".concat(l.priceMultiplier/100),g.oo.LIMIT):((null==c?void 0:c.orderType.includes(eh.SL))||n)&&!i?o.setErrorMsg("All inputs are required",g.oo.TRIGGER_QTY):(null==c?void 0:c.orderType.includes(eh.SL))&&!h.test(i)?o.setErrorMsg("Trigger price should be upto two decimal",g.oo.TRIGGER_QTY):((null==c?void 0:c.orderType.includes(eh.SL))||n)&&parseInt((100*i).toFixed())%l.priceMultiplier!=0?o.setErrorMsg("Trigger price should be in multiple of ".concat(l.priceMultiplier/100),g.oo.TRIGGER_QTY):u&&d.lpr>Number(t)&&(null==c?void 0:c.orderType)===eh.LIMIT&&!n?o.setErrorMsg("Limit price should be greater than or equal to ".concat(o.formatNumber(d.lpr)),g.oo.LIMIT):u&&d.upr<Number(t)&&(null==c?void 0:c.orderType)===eh.LIMIT&&!n?o.setErrorMsg("Limit price should be less than or equal to ".concat(o.formatNumber(d.upr)),g.oo.LIMIT):p||l.misMode!==g.kh.SQUAREOFF?a&&!i?o.setErrorMsg("All inputs are required",g.oo.TRIGGER_QTY):a&&parseInt((100*i).toFixed())%l.priceMultiplier!=0?o.setErrorMsg("SL price should be in multiple of ".concat(l.priceMultiplier/100),g.oo.TRIGGER_QTY):a&&!h.test(i)&&o.setErrorMsg("SL price should be upto two decimal",g.oo.TRIGGER_QTY):(o.setErrorMsg("Modification disabled. You can cancel and try again.",g.oo.LIMIT),o.setFramework(ef.NO_MODIFY)):o.setErrorMsg("Limit price should be upto two decimal",g.oo.LIMIT):o.setErrorMsg("All inputs are required",g.oo.QTY):o.setErrorMsg(y.df.REQUESTED_STATE_MSG,g.oo.QTY)),o.orderValidationHolder()}),(0,s.Z)((0,a.Z)(o),"orderValidationHolder",function(){return(0,eN.Z)({},o.getValidation(),o.getFramework())}),o}return t}(rl),r$="Available amount is not enough",ru={ST_ASM:"ST_ASM",LT_ASM:"LT_ASM",GSM:"GSM",IRP:"IRP",UNSOLICITED_SMS:"UNSOLICITED_SMS",PCAS:"PCAS",NOT_ELIGIBLE:"NOT_ELIGIBLE"},rp=function(e){(0,c.Z)(t,e);var r=(0,l.Z)(t);function t(e,i){var o;return(0,n.Z)(this,t),o=r.call(this,e,i),(0,s.Z)((0,a.Z)(o),"start",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},r=o.state,t=r.isSmartOrder,i=r.isGttOrder;if(o.clearMsg(),!o.props.isFetchingPriceRange){var a=[o.survAlertBlockedError,o.checkStockBlockedError,o.checkStockBannedReasonError,o.checkNoLiquidityError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleTriggerPriceError,o.checkIsNotValidLimitPriceError,o.checkIsNotValidAvailableBalanceWarning,o.handleTriggerPriceWarning,o.checkIsNotValidLimitPriceWarning,o.checkIfIntradayOpenOrderPending,o.handlePledgeShareSellWarning,o.checkNoLiquidityWarning,o.validateNegativeBalanceWarning,o.checkT2tWarning,o.checkIpoWarning,o.survAlertWarning,o.setInfoMsgText],n=[o.survAlertBlockedError,o.checkStockBlockedError,o.checkStockBannedReasonError,o.checkNoLiquidityError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleSmartOrderTriggerPriceError,o.checkIsNotValidLimitPriceError,o.checkIsNotValidAvailableBalanceWarning,o.handleSmartOrderTriggerPriceWarning,o.checkIsNotValidLimitPriceWarning,o.checkIfIntradayOpenOrderPending,o.checkNoLiquidityWarning,o.validateNegativeBalanceWarning,o.checkT2tWarning,o.checkIpoWarning,o.survAlertWarning,o.setSmartOrderInfoMsgText],s=[o.survAlertBlockedError,o.checkStockBlockedError,o.checkStockBannedReasonError,o.checkIsNotValidQtyError,o.checkGttTriggerPriceError,o.checkIsNotValidLimitPriceError,o.checkT2tWarning,o.checkIpoWarning,o.survAlertWarning,o.setGttOrderInfoMsgText],c=a;t?c=n:i&&(c=s),c.every(function(e){return e(),!o.message}),e(o.orderValidationHolder())}}),(0,s.Z)((0,a.Z)(o),"setSmartOrderInfoMsgText",function(){var e=o.state.actionType===g.iX.TRADING.BUY,r="After ".concat(e?"buy":"sell"," order executes, ").concat(e?"sell":"buy"," SL order will be placed");o.setInfoMsg(r,g.oo.TAG)}),(0,s.Z)((0,a.Z)(o),"setGttOrderInfoMsgText",function(){var e=o.state,r=e.triggerPrice,t=e.limitPrice,i="";if(r){var a=o.formatNumber(t),n=o.formatNumber(r),s="When ".concat(n," is hit, limit order of ").concat(a," will be placed"),c="When ".concat(n," is hit, market order will be placed");o.isOrderTypeLimit()&&t?i=s:o.isOrderTypeMarket()&&(i=c)}else i="Order will be valid for an year";o.setInfoMsg(i,g.oo.TAG)}),(0,s.Z)((0,a.Z)(o),"setInfoMsgText",function(){var e=o.state,r=e.actionType,t=e.limitPrice,i=e.orderValidity,a=e.isStopLossOrder,n=e.triggerPrice,s=o.props,c=s.livePrice,l=s.isMarketOpen,d=i===g.iX.VALIDITY.IOC,$=i===g.iX.VALIDITY.DAY,u=r===g.iX.TRADING.BUY,p=o.formatNumber(t),h=o.formatNumber(n),m="";l&&(d&&(m=y.g2.IOC_ORDER_EXECUTION),$&&(o.isOrderTypeLimit()&&a&&Number(n)&&(m="Order will be triggered at ".concat(h)),o.isOrderTypeLimit()&&!a&&u&&Number(t)&&(m=t<=c?"Order will be executed at ".concat(p," or lower price"):y.g2.DAY_ORDER_EXECUTION),o.isOrderTypeLimit()&&!a&&!u&&Number(t)&&(m=t>=c?"Order will be executed at ".concat(p," or higher price"):y.g2.DAY_ORDER_EXECUTION),o.isOrderTypeMarket()&&a&&Number(n)&&(m="Market order will be triggered at ".concat(h)),o.isOrderTypeMarket()&&!a&&(m=y.g2.DAY_ORDER_EXECUTION))),!l&&(o.isOrderTypeLimit()&&!a&&u&&Number(t)&&(m="Order will be executed at ".concat(p," or lower price")),o.isOrderTypeLimit()&&!a&&!u&&Number(t)&&(m="Order will be executed at ".concat(p," or higher price")),o.isOrderTypeMarket()&&!a&&(m=y.g2.NEXT_DAY_EXECUTION),o.isOrderTypeLimit()&&a&&Number(n)&&(m="Order will be triggered at ".concat(h)),o.isOrderTypeMarket()&&a&&Number(n)&&(m="Market order will be triggered at ".concat(h))),o.setInfoMsg(m,g.oo.TAG)}),(0,s.Z)((0,a.Z)(o),"survAlertWarning",function(){var e=o.props.priceRangeObject,r=o.state.actionType,t=e.alertInfo;t&&r===g.iX.TRADING.BUY&&t.action===g.aH.WARN&&(o.setWarningMsg(t.header),o.setFramework(ef.SURV_ALERT_INFO))}),(0,s.Z)((0,a.Z)(o),"isOrderTypeMarket",function(){return o.state.orderType===g.iX.ORDER.MARKET}),(0,s.Z)((0,a.Z)(o),"isOrderTypeLimit",function(){return o.state.orderType===g.iX.ORDER.LIMIT}),(0,s.Z)((0,a.Z)(o),"isIntraday",function(){return o.state.product===g.iX.PRODUCT.MIS}),(0,s.Z)((0,a.Z)(o),"calculateCanBuyQty",function(){var e,r=o.props,t=r.misWalletBalance,i=r.cncWalletBalance,a=o.state.shareQty;if(!o.isIntraday())return Math.floor(i/o.getEstimatedCost(1));return Math.floor(Math.max(0,Number(a)-o.getCurrentHoldQty(a))+t/o.getIntradayMargin(1))}),(0,s.Z)((0,a.Z)(o),"getCurrentHoldQty",function(e){var r=o.state.actionType,t=o.props.priceRangeObject,i=t.openSellQty,a=t.openBuyQty,n=t.netPosition;e=Number(e);var s=0,c=Math.max(Math.abs(n+a),Math.abs(n-i));return s=r===g.iX.TRADING.BUY?Math.max(0,Math.max(Math.abs(n+a+e),Math.abs(n-i+e))-c):Math.max(0,Math.max(Math.abs(n+a-e),Math.abs(n-i-e))-c)}),(0,s.Z)((0,a.Z)(o),"getIntradayMargin",function(e){var r,t=o.state.limitPrice,i=o.props,a=i.fifthLevelSellDepthPrice,n=i.livePrice,s=i.isMarketOpen,c=i.priceRangeObject,l=i.remoteConfig,d=c.intradayPriceFactor,$=null!==(r=null==l?void 0:l.misPercentage)&&void 0!==r?r:ev.MIS;return o.isOrderTypeMarket()?s?e*a*(d/100+$):e*n*(d/100+$):e*t*(d/100+$)}),(0,s.Z)((0,a.Z)(o),"getEstimatedCost",function(e){var r,t,i=o.state,a=i.limitPrice,n=i.triggerPrice,s=i.isStopLossOrder,c=i.actionType,l=o.props,d=l.fifthLevelSellDepthPrice,$=l.livePrice,u=l.isMarketOpen,p=l.remoteConfig,h=null!==(r=null==p?void 0:p.cncPercentage)&&void 0!==r?r:ev.CNC,y=null!==(t=null==p?void 0:p.amoMarketProtection)&&void 0!==t?t:ev.AMO_MKT_PROTECTION;if(e=Number(e),o.isIntraday()){var m=o.getCurrentHoldQty(e);return o.getIntradayMargin(m)}return o.isOrderTypeMarket()?s?parseFloat(n*e*(1+h)).toFixed(2):u?parseFloat((d||$)*e*(1+h)).toFixed(2):c===g.iX.TRADING.BUY?parseFloat(($+$*y)*e*(1+h)).toFixed(2):parseFloat($*e*(1+h)).toFixed(2):parseFloat(a*e*(1+h)).toFixed(2)}),(0,s.Z)((0,a.Z)(o),"survAlertBlockedError",function(){var e=o.props.priceRangeObject,r=o.state.actionType,t=e.alertInfo;t&&r===g.iX.TRADING.BUY&&t.action===g.aH.BLOCK&&(o.setErrorMsg(t.header,g.oo.TAG),o.setFramework(ef.SURV_ALERT_INFO))}),(0,s.Z)((0,a.Z)(o),"checkStockBlockedError",function(){var e=o.state,r=e.blockedErr,t=e.isInactiveTrader,i=e.shareQty,a=o.props,n=a.edisAuthState,s=a.edisAuthRemark,c=a.stocksOnboardingStatus,l=a.isBse,d=c===g.x9.BSE_DONE_NSE_PENDING&&!l&&i,$=c===g.x9.NSE_DONE_BSE_PENDING&&l&&i,u=c===g.x9.CLOSED;if(n===rc.P.FAILED&&s&&""!==s){o.setErrorMsg("CDSL Status: "+s,g.oo.TAG);return}if(""!==r){o.setErrorMsg(r,g.oo.TAG);return}if(t){o.setErrorMsg(y.lY.inactiveBlockMsg);return}if(d){o.setErrorMsg(y.lY.notOnboardedOnNSE);return}if($){o.setErrorMsg(y.lY.notOnboardedOnBSE);return}else if(u){o.setErrorMsg(y.lY.dematClosed);return}}),(0,s.Z)((0,a.Z)(o),"checkStockBannedReasonError",function(){var e=o.props.priceRangeObject,r=o.state.actionType,t=e.isBuyAllowed,i=e.isSellAllowed,a=r===g.iX.TRADING.BUY,n=a&&!t||!a&&!i,s="Trading disabled due to high risk",c="Trading disabled for this stock",l="You cannot trade this stock right now",d=null==e?void 0:e.remark;if(n&&d===ru.ST_ASM){o.setErrorMsg(s,g.oo.TAG),o.setFramework(ef.ST_ASM);return}if(n&&d===ru.LT_ASM){o.setErrorMsg(s,g.oo.TAG),o.setFramework(ef.LT_ASM);return}if(n&&d===ru.GSM){o.setErrorMsg(s,g.oo.TAG),o.setFramework(ef.GSM);return}if(n&&d===ru.IRP){o.setErrorMsg(c,g.oo.TAG),o.setFramework(ef.IRP);return}if(n&&d===ru.UNSOLICITED_SMS){o.setErrorMsg(c,g.oo.TAG),o.setFramework(ef.UNSOLICITED_SMS);return}else if(n&&d===ru.PCAS){o.setErrorMsg(c,g.oo.TAG),o.setFramework(ef.PCAS);return}else if(n&&d===ru.NOT_ELIGIBLE){o.setErrorMsg(l,g.oo.TAG),o.setFramework(ef.NOT_ELIGIBLE);return}else if(n){var $=a?e.buyNotAllowedReason:e.sellNotAllowedReason;o.setErrorMsg(null!=$?$:l,g.oo.TAG);return}}),(0,s.Z)((0,a.Z)(o),"checkNoLiquidityError",function(){var e=o.state,r=e.actionType,t=e.orderValidity,i=o.props,a=i.fifthLevelSellDepthPrice,n=i.isMarketOpen,s=0===Number(a)&&r===g.iX.TRADING.BUY&&o.isOrderTypeMarket()&&t===g.iX.VALIDITY.IOC;if(n&&s){o.setErrorMsg(y.g2.NO_SELLERS,g.oo.QTY);return}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidQtyError",function(){var e=o.props,r=e.availableShares,t=e.isFetchingPriceRange,i=e.priceRangeObject,a=e.fifthLevelSellDepthPrice,n=e.fifthLevelBuyDepthPrice,s=e.livePrice,c=e.remoteConfig,l=e.isMarketOpen,d=o.state,$=d.actionType,u=d.shareQty,p=d.limitPrice,h=d.isStopLossOrder,y=d.isGttOrder,m=d.triggerPrice,T=d.isSmartOrder,f=d.product,v=!t&&u>r&&$===g.iX.TRADING.SELL&&!o.isIntraday(),S=r===i.totalHoldings?r:"".concat(r," / ").concat(i.totalHoldings),E=r-i.pledgedHoldings,I=y&&!t&&u>E&&$===g.iX.TRADING.SELL,O=E===i.totalHoldings?E:"".concat(E," / ").concat(i.totalHoldings);if(I){var _="".concat(1!==E?"".concat(O," shares are available to sell"):"1 share is available to sell");o.setErrorMsg(_,g.oo.QTY),E!==i.totalHoldings&&o.setFramework(ef.AVAILABLE_TO_SELL);return}if(v){var R="".concat(1!==r?"".concat(S," shares are available to sell"):"1 share is available to sell");o.setErrorMsg(R,g.oo.QTY),r!==i.totalHoldings&&o.setFramework(ef.AVAILABLE_TO_SELL);return}var k=$===g.iX.TRADING.BUY,x=eS.fromBuySell(k).withLivePrice(s).duringMarketOpen(l).withFifthLevelDepthPrice(a,n).buildLtpToConsider(null==c?void 0:c.amoMarketProtection).getPrice(),N=eS.fromOrderType(h,y,T,o.isOrderTypeMarket()).withFifthLevelDepthPrice(x).withLimitPrice(p).withTriggerPrice(m).buildPrice().withProduct(f).withPriceRangeObj(i).buildMaxQty(null==c?void 0:c.misPercentage,null==c?void 0:c.cncPercentage).getQty();if(u>=N&&N>=1){var C="Enter qty <".concat((0,ec.a)(N,el.i)," as order value can't exceed 20L");(k||o.isIntraday())&&N===i.defaultMaxBuyQty?C="Quantity should be less than ".concat((0,ec.a)(N,el.i)):k||o.isIntraday()?C="Enter qty <".concat((0,ec.a)(N,el.i)," as order value can't exceed 20L"):k||o.isIntraday()||(C="You can only sell ".concat((0,ec.a)(N,el.i)," qty at once")),o.setErrorMsg(C,g.oo.QTY);return}if(u){if(u<i.minBuyQty&&$===g.iX.TRADING.BUY){o.setErrorMsg("Minimum qty you can buy is ".concat(i.minBuyQty),g.oo.QTY);return}if(u<i.minSellQty&&$===g.iX.TRADING.SELL){o.setErrorMsg("Minimum qty you can sell is ".concat(i.minSellQty),g.oo.QTY);return}if(u%i.qtyMultiplier!=0){o.setErrorMsg("Qty should be in multiple of ".concat(i.qtyMultiplier),g.oo.QTY);return}}}),(0,s.Z)((0,a.Z)(o),"handleTriggerPriceError",function(){var e=o.props.livePrice,r=o.state,t=r.limitPrice,i=r.actionType,a=r.triggerPrice,n=r.isStopLossOrder;if(i===g.iX.TRADING.BUY&&n){if(!(0,es.a)(a)&&Number(e)&&Number(a)<Number(e)){o.setErrorMsg("Trigger price should be greater than market price",g.oo.TRIGGER_QTY);return}if(!o.isOrderTypeMarket()&&Number(t)<Number(a)){o.setErrorMsg("Limit price should be greater than trigger price",g.oo.TRIGGER_QTY);return}}else if(i===g.iX.TRADING.SELL&&n){if(Number(e)&&Number(a)>Number(e)){o.setErrorMsg("Trigger price should be lesser than market price",g.oo.TRIGGER_QTY);return}if(!o.isOrderTypeMarket()&&Number(t)>Number(a)){o.setErrorMsg("Limit price should be lesser than trigger price",g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"checkIfTriggerPriceTooClose",function(e,r){var t,i=o.props,a=i.livePrice,n=i.priceRangeObject,s=o.state,c=s.limitPrice,l=s.triggerPrice,d=s.actionType,$=Number(n.priceMultiplier)/100,u=d===g.iX.TRADING.BUY,p=!1;return o.isOrderTypeMarket()&&u&&Number(a)>50&&(t=(0,ec.n)(Number(a)*(1-e),$)),o.isOrderTypeMarket()&&!u&&Number(a)>50&&(t=(0,ec.n)(Number(a)*(1+e),$)),o.isOrderTypeMarket()&&u&&50>=Number(a)&&(t=Number(a)-r),o.isOrderTypeMarket()&&!u&&50>=Number(a)&&(t=Number(a)+r),o.isOrderTypeLimit()&&u&&Number(a)>50&&(t=(0,ec.n)(Number(c)*(1-e),$)),o.isOrderTypeLimit()&&!u&&Number(a)>50&&(t=(0,ec.n)(Number(c)*(1+e),$)),o.isOrderTypeLimit()&&u&&50>=Number(a)&&(t=Number(c)-r),o.isOrderTypeLimit()&&!u&&50>=Number(a)&&(t=Number(c)+r),t&&u&&Number(l)>=Number(t.toFixed(2))&&(p=!0),t&&!u&&Number(l)<=Number(t.toFixed(2))&&(p=!0),{isTriggerPriceTooClose:p,formattedTargetPrice:o.formatNumber(t)}}),(0,s.Z)((0,a.Z)(o),"checkIfGttTriggerPriceTooClose",function(e,r){var t,i,a=o.props,n=a.livePrice,s=a.priceRangeObject,c=o.state.triggerPrice,l=Number(s.priceMultiplier)/100,d=!1;return 50>=Number(n)&&(t=Number(n)-r,i=Number(n)+r),Number(n)>50&&(t=(0,ec.n)(Number(n)*(1-e),l),i=(0,ec.n)(Number(n)*(1+e),l)),{isTriggerPriceTooClose:Number(c)<=Number(n)&&Number(c)>=Number(t.toFixed(2))||Number(c)>=Number(n)&&Number(c)<=Number(i.toFixed(2)),formattedLowerTriggerPrice:o.formatNumber(t),formattedUpperTriggerPrice:o.formatNumber(i)}}),(0,s.Z)((0,a.Z)(o),"handleSmartOrderTriggerPriceError",function(){var e=o.props.livePrice,r=o.state,t=r.limitPrice,i=r.actionType,a=r.triggerPrice;if(Number(e)){var n=i===g.iX.TRADING.BUY,s=o.formatNumber(t),c=o.checkIfTriggerPriceTooClose(.0025,.1),l=c.formattedTargetPrice,d=c.isTriggerPriceTooClose;if(o.isOrderTypeMarket()){if(n&&Number(a)>Number(e)){o.setErrorMsg("SL price should be lesser than market price",g.oo.TRIGGER_QTY);return}if(!n&&Number(a)<Number(e)){o.setErrorMsg("SL price should be greater than market price",g.oo.TRIGGER_QTY);return}if(n&&d){var $="SL price too close to last price. Enter < ".concat(l);o.setErrorMsg($,g.oo.TRIGGER_QTY);return}if(!n&&d){var u="SL price too close to last price. Enter > ".concat(l);o.setErrorMsg(u,g.oo.TRIGGER_QTY);return}}else if(o.isOrderTypeLimit()&&Number(t)){if(n&&Number(a)>Number(t)){var p="SL price should be lesser than ".concat(s);o.setErrorMsg(p,g.oo.TRIGGER_QTY);return}if(!n&&Number(a)<Number(t)){var h="SL price should be greater than ".concat(s);o.setErrorMsg(h,g.oo.TRIGGER_QTY);return}if(n&&d){var y="SL price too close to limit price. Enter < ".concat(l);o.setErrorMsg(y,g.oo.TRIGGER_QTY);return}if(!n&&d){var m="SL price too close to limit price. Enter > ".concat(l);o.setErrorMsg(m,g.oo.TRIGGER_QTY);return}}}}),(0,s.Z)((0,a.Z)(o),"validateSquareOffModeError",function(){var e=o.props,r=e.priceRangeObject,t=e.remoteConfig,i=o.state,a=i.shareQty,n=i.product,s=i.actionType,c=r.netPosition,l=r.openBuyQty,d=r.openSellQty,$=r.misMode;if(!t.isSquareOffModeDisabled&&$===g.kh.SQUAREOFF&&n===g.iX.PRODUCT.MIS&&0!==Number(a)){if(0===c||c>0&&s===g.iX.TRADING.BUY||c<0&&s===g.iX.TRADING.SELL){o.setErrorMsg("New intraday positions not allowed",g.oo.QTY),o.setFramework(ef.SQR_OFF);return}if(c>0&&s===g.iX.TRADING.SELL&&Number(a)>c-d){var u=d>0?"You have an open sell order for ".concat(d,". Max sell allowed is ").concat(c>d?c-d:0):"You can sell upto ".concat(c," only. New positions disabled."),p=d>0?ef.OPEN_SQR_OFF:ef.SQR_OFF;o.setErrorMsg(u,g.oo.QTY),o.setFramework(p);return}if(c<0&&s===g.iX.TRADING.BUY&&Number(a)>Math.abs(c)-l){var h=l>0?"You have an open buy order for ".concat(l,". Max buy allowed is ").concat(Math.abs(c)>l?Math.abs(c)-l:0):"Buy upto ".concat(Math.abs(c)," only. New intraday positions not allowed."),y=l>0?ef.OPEN_SQR_OFF:ef.SQR_OFF;o.setErrorMsg(h,g.oo.QTY),o.setFramework(y);return}}}),(0,s.Z)((0,a.Z)(o),"checkGttTriggerPriceError",function(){var e,r=o.props,t=r.livePrice,i=r.remoteConfig,a=o.state.triggerPrice;if(!(0,es.a)(a)&&0===Number(a)){o.setErrorMsg("Trigger price should be greater than 0",g.oo.TRIGGER_QTY);return}if(Number(t)){var n=null!==(e=null==i?void 0:i.gttTriggerPriceBuffers)&&void 0!==e?e:{BUFFER_LIMIT_FACTOR:.0025,BUFFER_LIMIT_VAL:.2},s=n.BUFFER_LIMIT_FACTOR,c=n.BUFFER_LIMIT_VAL,l=o.checkIfGttTriggerPriceTooClose(s,c),d=l.formattedLowerTriggerPrice,$=l.formattedUpperTriggerPrice;if(l.isTriggerPriceTooClose){var u="Trigger price too close to ltp. Enter < ".concat(d," or > ").concat($," ");o.setErrorMsg(u,g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidLimitPrice",function(){var e=o.props,r=e.dailyPriceRange,t=e.isMarketOpen,i=o.state,a=i.limitPrice,n=i.orderType,s=Number(r.lpr)&&Number(r.upr);if(!s)return{};var c=r.lpr>Number(a)||r.upr<Number(a),l=n===g.iX.ORDER.LIMIT;return s&&Number(a)&&t&&l&&c?{msgText:"Price should be between ".concat(o.formatNumber(r.lpr)," and ").concat(o.formatNumber(r.upr)),msgPosition:g.oo.LIMIT}:{}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidLimitPriceError",function(){var e=o.props.isFnoListedStock,r=o.state,t=r.limitPrice,i=r.isGttOrder;if(o.isOrderTypeMarket()||(0,es.a)(t)||0!==Number(t)){if(!e&&!i){var a=o.checkIsNotValidLimitPrice(),n=a.msgText,s=a.msgPosition;n&&o.setErrorMsg(n,s)}}else o.setErrorMsg("Limit price should be greater than 0",g.oo.LIMIT)}),(0,s.Z)((0,a.Z)(o),"checkIfIntradayOpenOrderPending",function(){var e=o.props.priceRangeObject,r=o.state,t=r.actionType,i=r.shareQty,a=t===g.iX.TRADING.BUY;if(o.isIntraday()){var n=null!=e?e:{},s=n.openBuyQty,c=n.openSellQty,l=n.netPosition,d="",$=(0,ec.a)(i,el.e),u=Math.abs(l);a&&l<0&&s>0&&s+$>u&&(d="Open buy order present for ".concat(s," qty")),!a&&l>0&&c>0&&c+$>u&&(d="Open sell order present for ".concat(c," qty")),d&&o.setWarningMsg(d,g.oo.TAG)}}),(0,s.Z)((0,a.Z)(o),"handleTriggerPriceWarning",function(){var e=o.props,r=e.livePrice,t=e.dailyPriceRange,i=o.state,a=i.actionType,n=i.triggerPrice,s=i.isStopLossOrder,c=Number(r),l=Number(t.lpr)&&Number(t.upr);if(c&&l){var d=s&&Number(n)&&a===g.iX.TRADING.BUY&&(Number(r)>Number(n)||t.upr<Number(n)),$=s&&Number(n)&&a===g.iX.TRADING.SELL&&(t.lpr>Number(n)||Number(r)<Number(n));if(d){var u="Trigger price should be between ".concat(o.formatNumber(r)," and ").concat(o.formatNumber(t.upr));o.setWarningMsg(u,g.oo.TRIGGER_QTY);return}if($){var p="Trigger price should be between ".concat(o.formatNumber(t.lpr)," and ").concat(o.formatNumber(r));o.setWarningMsg(p,g.oo.TRIGGER_QTY);return}}}),(0,s.Z)((0,a.Z)(o),"handleSmartOrderTriggerPriceWarning",function(){var e=o.props.dailyPriceRange,r=o.state.triggerPrice;if(Number(e.lpr)&&Number(e.upr)&&(Number(r)>e.upr||Number(r)<e.lpr)){var t="Trigger price should be between ".concat(o.formatNumber(e.lpr)," and ").concat(o.formatNumber(e.upr));o.setWarningMsg(t,g.oo.TRIGGER_QTY);return}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidLimitPriceWarning",function(){if(o.props.isFnoListedStock){var e=o.checkIsNotValidLimitPrice(),r=e.msgText,t=e.msgPosition;r&&o.setWarningMsg(r,t)}}),(0,s.Z)((0,a.Z)(o),"handlePledgeShareSellWarning",function(){var e=o.props.priceRangeObject,r=o.state,t=r.shareQty,i=r.actionType,a=e.pledgedHoldings,n=e.maxSellQty,s=t-(n-a);if(t>0&&s>0&&a>0&&i===g.iX.TRADING.SELL&&!o.isIntraday()){var c=a>=n?"".concat(t," Qty. will be unpledged and sold "):"".concat(s," out of ").concat(t," Qty. will be unpledged and sold");o.setWarningMsg(c,g.oo.QTY),o.setFramework(ef.PLEDGE_SHARE_SELL)}}),(0,s.Z)((0,a.Z)(o),"checkNoLiquidityWarning",function(){var e=o.state,r=e.actionType,t=e.shareQty,i=o.props,a=i.fifthLevelSellDepthPrice,n=i.fifthLevelBuyDepthPrice,s=i.isMarketOpen,c=i.livePrice,l=i.availableShares,d=i.isFetchingPriceRange,$=s&&0===Number(a)&&r===g.iX.TRADING.BUY&&t,u=s&&0===Number(n)&&r===g.iX.TRADING.SELL&&t,p=!d&&t>l&&r===g.iX.TRADING.SELL&&!o.isIntraday();if($){var h=o.isOrderTypeMarket()?"".concat(y.g2.CIRCUIT_HIT_SELL_WARNING).concat(Number(c).toFixed(2)):y.g2.NO_SELLER_WARNING;o.setWarningMsg(h,g.oo.QTY),o.setFramework(ef.NO_SELLERS);return}if(u&&!p&&t){var m=o.isOrderTypeMarket()?"".concat(y.g2.CIRCUIT_HIT_BUY_WARNING).concat(Number(c).toFixed(2)):y.g2.NO_BUYER_WARNING;o.setWarningMsg(m,g.oo.QTY),o.setFramework(ef.NO_BUYERS);return}}),(0,s.Z)((0,a.Z)(o),"checkT2tWarning",function(){var e=o.props,r=e.priceRangeObject,t=e.remoteConfig,i=o.state,a=i.actionType,n=i.shareQty,s=r.isT2t||"T2T"===r.remark;if(!o.isIntraday()&&n&&s&&a===g.iX.TRADING.BUY){o.setWarningMsg(t.t2tMessage,g.oo.TAG),o.setFramework(ef.T2T);return}}),(0,s.Z)((0,a.Z)(o),"checkIpoWarning",function(){var e=o.props.priceRangeObject;if(null==e?void 0:e.isIPOListed){o.setWarningMsg("Trading starts at 10:00 AM",g.oo.TAG),o.setFramework(ef.IPO_LISTING);return}}),(0,s.Z)((0,a.Z)(o),"checkIsNotValidAvailableBalanceWarning",function(){var e=o.props,r=e.misWalletBalance,t=e.cncWalletBalance,i=o.state,a=i.actionType,n=i.shareQty,s=o.getEstimatedCost(n),c=s&&s>parseFloat(t)&&a===g.iX.TRADING.BUY&&!o.isIntraday(),l=s&&s>parseFloat(r)&&a===g.iX.TRADING.BUY&&o.isIntraday(),d=s&&s>parseFloat(r)&&a===g.iX.TRADING.SELL&&o.isIntraday();if(c||l){var $=o.calculateCanBuyQty(),u="Available amount is ".concat($>0?"enough for "+$+" shares":"not enough");o.setAddMoneyWithQty(u,g.oo.QTY,$);return}if(d){var p=o.calculateCanBuyQty(),h="Available amount is ".concat(p>0?"enough for "+p+" shares":"not enough");o.setAddMoneyWithQty(h,g.oo.QTY,p);return}}),(0,s.Z)((0,a.Z)(o),"validateNegativeBalanceWarning",function(){var e=o.props,r=e.priceRangeObject,t=e.misWalletBalance,i=o.state,a=i.shareQty,n=i.actionType,s=t<=0&&o.isIntraday(),c=r.netPosition,l=r.openBuyQty,d=r.openSellQty;if(s&&(0===c||c>0&&n===g.iX.TRADING.BUY||c<0&&n===g.iX.TRADING.SELL||c>0&&n===g.iX.TRADING.SELL&&Number(a)>c-d||c<0&&n===g.iX.TRADING.BUY&&Number(a)>Math.abs(c)-l)){o.setAddMoneyMsg(r$,g.oo.QTY);return}}),(0,s.Z)((0,a.Z)(o),"preOrderValidation",function(){var e=o.props.priceRangeObject,r=o.state,t=r.shareQty,i=r.limitPrice,a=r.isStopLossOrder,n=r.triggerPrice,s=r.actionType,c=r.isSmartOrder,l=r.isGttOrder,d=RegExp("^[0-9]*.{0,1}[0-9]{0,2}$");o.clearMsg();var $=[o.checkStockBlockedError,o.checkStockBannedReasonError,o.checkNoLiquidityError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleTriggerPriceError,o.checkIsNotValidLimitPriceError],u=[o.checkStockBlockedError,o.checkStockBannedReasonError,o.checkNoLiquidityError,o.validateSquareOffModeError,o.checkIsNotValidQtyError,o.handleSmartOrderTriggerPriceError,o.checkIsNotValidLimitPriceError],p=[o.checkStockBlockedError,o.checkIsNotValidQtyError,o.checkStockBannedReasonError,o.checkGttTriggerPriceError,o.checkIsNotValidLimitPriceError],h=$;return c?h=u:l&&(h=p),h.every(function(e){return e(),!o.message||o.msgType!==g.pp.ERROR}),o.message&&o.msgType===g.pp.ERROR||(t?parseInt(t)<e.minBuyQty&&s===g.iX.TRADING.BUY?o.setErrorMsg("Minimum share you can buy is ".concat(e.minBuyQty),g.oo.QTY):parseInt(t)%e.qtyMultiplier!=0?o.setErrorMsg("Share should be in multiple of ".concat(e.qtyMultiplier),g.oo.QTY):parseInt(t)<e.minSellQty&&s===g.iX.TRADING.SELL?o.setErrorMsg("Minimum share you can sell is ".concat(e.minSellQty),g.oo.QTY):o.isOrderTypeMarket()||i?o.isOrderTypeMarket()||Number(i)&&d.test(i)?o.isOrderTypeMarket()||Number(i)&&parseInt((100*i).toFixed())%e.priceMultiplier==0?a&&!n?o.setErrorMsg("All inputs are required",g.oo.TRIGGER_QTY):!a||Number(n)&&d.test(n)?a&&(!Number(n)||parseInt((100*n).toFixed())%e.priceMultiplier!=0)?o.setErrorMsg("Trigger price should be in multiple of ".concat(e.priceMultiplier/100),g.oo.TRIGGER_QTY):c&&!n?o.setErrorMsg("All inputs are required",g.oo.TRIGGER_QTY):!c||Number(n)&&d.test(n)?c&&(!Number(n)||parseInt((100*n).toFixed())%e.priceMultiplier!=0)?o.setErrorMsg("SL price should be in multiple of ".concat(e.priceMultiplier/100),g.oo.TRIGGER_QTY):l&&!n?o.setErrorMsg("All inputs are required",g.oo.TRIGGER_QTY):!l||Number(n)&&d.test(n)?l&&(!Number(n)||parseInt((100*n).toFixed())%e.priceMultiplier!=0)&&o.setErrorMsg("Trigger price should be in multiple of ".concat(e.priceMultiplier/100),g.oo.TRIGGER_QTY):o.setErrorMsg("Trigger price should be upto two decimal",g.oo.TRIGGER_QTY):o.setErrorMsg("SL price should be upto two decimal",g.oo.TRIGGER_QTY):o.setErrorMsg("Trigger price should be upto two decimal",g.oo.TRIGGER_QTY):o.setErrorMsg("Limit price should be in multiple of ".concat(e.priceMultiplier/100),g.oo.LIMIT):o.setErrorMsg("Limit price should be upto two decimal",g.oo.LIMIT):o.setErrorMsg("All inputs are required",g.oo.LIMIT):o.setErrorMsg("All inputs are required",g.oo.QTY)),o.orderValidationHolder()}),(0,s.Z)((0,a.Z)(o),"orderValidationHolder",function(){return(0,eN.Z)({},o.getValidation(),o.getFramework())}),o}return t}(rl)},76070:function(e,r,t){"use strict";t.d(r,{BF:function(){return m},D8:function(){return E},EP:function(){return v},Le:function(){return g},Ly:function(){return I},QP:function(){return y},Sb:function(){return p},T6:function(){return $},cD:function(){return T},fA:function(){return f},ky:function(){return u},nh:function(){return O},qB:function(){return _},sm:function(){return h},zT:function(){return d}});var i,a=t(82845),n=t(22150),o=t(4979),s=t(23194),c=function(e,r){return r.isin},l=function(e,r){return r.isBse},d=function(e){return e.stock.orders},$=function(){return(0,o.P1)([d,c,l],function(e,r,t){return e.availableToSellDto[r+(t?n.iX.EXCHANGE.BSE:n.iX.EXCHANGE.NSE)]})},u=function(){return(0,o.P1)([d],function(e){return e.fnoOrderConfig})},p=function(){return(0,o.P1)([d,c,l],function(e,r,t){return null!==(i=e.pqrHolder[r+(t?n.iX.EXCHANGE.BSE:n.iX.EXCHANGE.NSE)])&&void 0!==i?i:(0,a.Z)({},n.vS,n.A5)})},h=function(){return(0,o.P1)([d],function(e){return e.isPqrFetching})},g=function(e){return(0,o.P1)([d],function(r){return r.pollingStatus[e]})},y=function(){return(0,o.P1)([d],function(e){return e.pqrHolder})},m=function(){return(0,o.P1)([d],function(e){return e.isInCancelAndExitFlow})},T=function(e){return e.stock.orders.isInCancelAndExitFlow},f=function(e){var r;return null==e?void 0:null===(r=e.stock)||void 0===r?void 0:r.orders},v=function(e){var r;return null==e?void 0:null===(r=e.core)||void 0===r?void 0:r.featureConfig},S=function(e,r){var t,i=null!==(t=null==r?void 0:r.orderDetails)&&void 0!==t?t:{},a=i.gttOrderId,n=i.growwOrderId,o=i.smartOrderType;return(0,s.vE)(o,a)?a:n},E=function(){return(0,o.P1)([d],function(e){return e.orderStatusHolder})},I=function(){return(0,o.P1)([E(),S],function(e,r){var t;return null===(t=e[r])||void 0===t?void 0:t.orderStatus})},O=function(){return(0,o.P1)([E(),S],function(e,r){return e[r]})},_=function(e){return e.stock.orders.basketOrderDto}},19311:function(e){e.exports={ao22Parent:"advancedOptions_ao22Parent__acrhz",ao22Main:"advancedOptions_ao22Main__UItz6",ao22Upper:"advancedOptions_ao22Upper__WM0tC",ao22Lower:"advancedOptions_ao22Lower__a9NWq",ao22Head:"advancedOptions_ao22Head__eb1Sb",ao22Info:"advancedOptions_ao22Info___Z8ET",ao22Validity:"advancedOptions_ao22Validity__McSU8",ao22ValidityOptionRightMargin:"advancedOptions_ao22ValidityOptionRightMargin__uPlgB",ao22ValidityOption:"advancedOptions_ao22ValidityOption__RitZp",ao22ActiveValidityOption:"advancedOptions_ao22ActiveValidityOption__ia_GQ",ao22InactiveValidityOption:"advancedOptions_ao22InactiveValidityOption__U5Fs1",ao22DisabledValidityOption:"advancedOptions_ao22DisabledValidityOption__oImby",ao22RadioButtonChoice:"advancedOptions_ao22RadioButtonChoice__lyqlm",ao22RadioBtnChoiceHeading:"advancedOptions_ao22RadioBtnChoiceHeading__kMA3n",ao22RadioBtnIcon:"advancedOptions_ao22RadioBtnIcon__tLRhk",ao22Gtt:"advancedOptions_ao22Gtt__I7ROn",ao22NewFeatureValidityOptionsDot:"advancedOptions_ao22NewFeatureValidityOptionsDot__yaxKx",aos44DisabledOption:"advancedOptions_aos44DisabledOption__cXy_c"}},42485:function(e){e.exports={lamocs4Main:"amoCongratsScreen_lamocs4Main__kiqn_",lamocs4Animation:"amoCongratsScreen_lamocs4Animation__gs__2",lamocs4TopDiv:"amoCongratsScreen_lamocs4TopDiv__c79Rz",lamocs4Head:"amoCongratsScreen_lamocs4Head__vg9_L",lamocs4Para:"amoCongratsScreen_lamocs4Para__owLei",lamocs4Ver:"amoCongratsScreen_lamocs4Ver__a_wrw",lamocs4OrderDetailsRow:"amoCongratsScreen_lamocs4OrderDetailsRow__Q0QKV",lamocs4OrderDetailsBtn:"amoCongratsScreen_lamocs4OrderDetailsBtn__y7Z_N",lamocs4Animate:"amoCongratsScreen_lamocs4Animate__Tsw2_",lamocs4FadeInBottom:"amoCongratsScreen_lamocs4FadeInBottom__reszO"}},99497:function(e){e.exports={bscs33Main:"orderSuccessScreen_bscs33Main__fkAu6",bscs33Upper:"orderSuccessScreen_bscs33Upper__LT1O2",bscs33Animation:"orderSuccessScreen_bscs33Animation__L69wG",bscs33Head:"orderSuccessScreen_bscs33Head__FnAw_",bscs33VerParent:"orderSuccessScreen_bscs33VerParent__R1IWD",bscs33Ver:"orderSuccessScreen_bscs33Ver__bTUeL",bscs33OrderDetailsRow:"orderSuccessScreen_bscs33OrderDetailsRow__w32_2",bscs33OrderDetailsBtn:"orderSuccessScreen_bscs33OrderDetailsBtn__rX5lm",bscs33Lower:"orderSuccessScreen_bscs33Lower__ahnpW",bscs33Tag:"orderSuccessScreen_bscs33Tag__75eB8",bscs33WarningTag:"orderSuccessScreen_bscs33WarningTag__nKrji",bscs33GttIcon:"orderSuccessScreen_bscs33GttIcon__mVKpK",bscs33Animate:"orderSuccessScreen_bscs33Animate__QJytI",bscs33FadeInBottom:"orderSuccessScreen_bscs33FadeInBottom__7krlq",fadeIn:"orderSuccessScreen_fadeIn__zwc9Q",scroll11FadeIn:"orderSuccessScreen_scroll11FadeIn__r2Fz9",animName:"orderSuccessScreen_animName__k5eOG"}},63951:function(e){e.exports={sof67Main:"stockOrderFailure_sof67Main__Hv7Lf",sof67Animation:"stockOrderFailure_sof67Animation__FOSbE",sof67TopDiv:"stockOrderFailure_sof67TopDiv__8G_CW",sof67Para:"stockOrderFailure_sof67Para__39DA1",sof67Ver:"stockOrderFailure_sof67Ver___4r_b",sof67Hor:"stockOrderFailure_sof67Hor__9l_It",sof67OrderDetails:"stockOrderFailure_sof67OrderDetails__EMboP"}},81154:function(e){e.exports={surv64Header:"surveillanceInfoScreen_surv64Header__lvIHq",surv64Body:"surveillanceInfoScreen_surv64Body__zDGhT",surv64CancelBtn:"surveillanceInfoScreen_surv64CancelBtn__jolJS",surv64Main:"surveillanceInfoScreen_surv64Main__jRYUE",surv64ArrowIcon:"surveillanceInfoScreen_surv64ArrowIcon__UPJ2i"}},55246:function(){},92459:function(){},3909:function(){},707:function(){},84476:function(){},78944:function(){},36522:function(){},82169:function(){},1508:function(){},82938:function(){}}]);